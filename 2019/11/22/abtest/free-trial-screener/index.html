<!DOCTYPE HTML>
<html lang="en">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Free Trail Screen, Naixin&#39;s blog">
    <meta name="baidu-site-verification" content>
    <meta name="google-site-verification" content>
    <meta name="360-site-verification" content>
    <meta name="description" content="üìò  Experiment designüìñ Experiment Overview: Free Trial ScreenerAt the time of this experiment, Udacity courses currentl">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Free Trail Screen | Naixin&#39;s blog</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?46e79e71af0709a5b9106bf20cecc493";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body>

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Naixin's blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <span>Home</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <span>Learning notes</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <span>About</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <span>Courses</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/contact" class="waves-effect waves-light">
            
            <span>Contact</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="Search"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Naixin's blog</div>
        <div class="logo-desc">
            
            You never lose, you either win or learn.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                Home
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                Learning notes
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                About
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                Courses
            </a>
        </li>
        
        <li>
            <a href="/contact" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                Contact
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/naixinzhang" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/naixinzhang" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('ËØ∑ËæìÂÖ•ËÆøÈóÆÊú¨ÊñáÁ´†ÁöÑÂØÜÁ†Å')).toString(CryptoJS.enc.Hex)) {
                alert('ÂØÜÁ†ÅÈîôËØØÔºåÂ∞ÜËøîÂõû‰∏ªÈ°µÔºÅ');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/27.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        Free Trail Screen
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- ÊñáÁ´†ÂÜÖÂÆπËØ¶ÊÉÖ -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                        <a href="/tags/A-B-Test/" target="_blank">
                            <span class="chip bg-color">A_B Test</span>
                        </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                        <a href="/categories/A-B-Test/" class="post-category" target="_blank">
                            A_B Test
                        </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2019-11-22
                </div>

                <div class="post-author info-break-policy">
                    <i class="fa fa-user-o fa-fw"></i>Author:&nbsp;&nbsp;
                    
                    Naixin Zhang
                    
                </div>

                
                
                <div class="info-break-policy">
                    <i class="fa fa-file-word-o fa-fw"></i>Word Count:&nbsp;&nbsp;
                    5.2k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="fa fa-clock-o fa-fw"></i>Read Times:&nbsp;&nbsp;
                    32 Min
                </div>
                
                

                
                <div id="busuanzi_container_page_pv" class="info-break-policy">
                    <i class="fa fa-eye fa-fw"></i>Read Count:&nbsp;&nbsp;
                    <span id="busuanzi_value_page_pv"></span>
                </div>
                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="üìò-Experiment-design"><a href="#üìò-Experiment-design" class="headerlink" title="üìò  Experiment design"></a>üìò  Experiment design</h1><h2 id="üìñ-Experiment-Overview-Free-Trial-Screener"><a href="#üìñ-Experiment-Overview-Free-Trial-Screener" class="headerlink" title="üìñ Experiment Overview: Free Trial Screener"></a>üìñ Experiment Overview: Free Trial Screener</h2><p><font color="blue">At the time of this experiment, Udacity courses currently have two options on the home page: ‚Äústart free trial‚Äù, and ‚Äúaccess course materials‚Äù. If the student clicks ‚Äústart free trial‚Äù, they will be asked to enter their credit card information, and then they will be enrolled in a free trial for the paid version of the course. After 14 days, they will automatically be charged unless they cancel first. If the student clicks ‚Äúaccess course materials‚Äù, they will be able to view the videos and take the quizzes for free, but they will not receive coaching support or a verified certificate, and they will not submit their final project for feedback.</font></p>
<p>In the experiment, Udacity tested a change where if the student clicked ‚Äústart free trial‚Äù, they were asked how much time they had available to devote to the course. If the student indicated 5 or more hours per week, they would be taken through the checkout process as usual. If they indicated fewer than 5 hours per week, a message would appear indicating that Udacity courses usually require a greater time commitment for successful completion, and suggesting that the student might like to access the course materials for free. At this point, the student would have the option to continue enrolling in the free trial, or access the course materials for free instead. The screenshot below shows what the experiment looks like.</p>
<p>The hypothesis was that this might set clearer expectations for students upfront, thus reducing the number of frustrated students who left the free trial because they didn‚Äôt have enough time‚Äîwithout significantly reducing the number of students to continue past the free trial and eventually complete the course. If this hypothesis held true, Udacity could improve the overall student experience and improve coaches‚Äô capacity to support students who are likely to complete the course.</p>
<p>The unit of diversion is a cookie, although if the student enrolls in the free trial, they are tracked by user-id from that point forward. The same user-id cannot enroll in the free trial twice. For users that do not enroll, their user-id is not tracked in the experiment, even if they were signed in when they visited the course overview page.
</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> IPython<span class="token punctuation">.</span>display <span class="token keyword">import</span> Image
Image<span class="token punctuation">(</span><span class="token string">'download.png'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="1_3_0.png" alt="png"></p>
<h1 id="üìñ-Metric-Choice"><a href="#üìñ-Metric-Choice" class="headerlink" title="üìñ Metric Choice"></a>üìñ Metric Choice</h1><p><font color="blue">Which of the following metrics would you choose to measure for this experiment and why? For each metric you choose, indicate whether you would use it as an invariant metric or an evaluation metric. The practical significance boundary for each metric, that is, the difference that would have to be observed before that was a meaningful change for the business, is given in parentheses. All practical significance boundaries are given as absolute changes.</font></p>
<p>Any place ‚Äúunique cookies‚Äù are mentioned, the uniqueness is determined by day. (That is, the same cookie visiting on different days would be counted twice.) User-ids are automatically unique since the site does not allow the same user-id to enroll twice.</p>
<ul>
<li>Number of cookies: That is, number of unique cookies to view the course overview page. (dmin=3000)</li>
<li>Number of user-ids: That is, number of users who enroll in the free trial. (dmin=50)</li>
<li>Number of clicks: That is, number of unique cookies to click the ‚ÄúStart free trial‚Äù button (which happens before the free trial screener is trigger). (dmin=240)</li>
<li>Click-through-probability: That is, number of unique cookies to click the ‚ÄúStart free trial‚Äù button divided by number of unique cookies to view the course overview page. (dmin=0.01)</li>
<li>Gross conversion: That is, number of user-ids to complete checkout and enroll in the free trial divided by number of unique cookies to click the ‚ÄúStart free trial‚Äù button. (dmin= 0.01)</li>
<li>Retention: That is, number of user-ids to remain enrolled past the 14-day boundary (and thus make at least one payment) divided by number of user-ids to complete checkout. (dmin=0.01)</li>
<li>Net conversion: That is, number of user-ids to remain enrolled past the 14-day boundary (and thus make at least one payment) divided by the number of unique cookies to click the ‚ÄúStart free trial‚Äù button. (dmin= 0.0075)

</li>
</ul>
<h2 id="üîµ-Invariant-metrics"><a href="#üîµ-Invariant-metrics" class="headerlink" title="üîµ Invariant metrics"></a>üîµ Invariant metrics</h2><p><br>expected to be unchanged in the control and experimental groups:</p>
<ul>
<li><p>number of cookies 
<br>this metric cannot be affected by the experiment: users made a decision to visit the page before they were asked the question;</p>
</li>
<li><p>number of clicks 
<br>this metric cannot be affected by the experiment: users clicked the button before they were asked the question;</p>
</li>
<li><p>click-through probability 
<br>this metric cannot be affected by the experiment: it equals to the number of clicks divided by the number of cookies.</p>
<h2 id="üîµ-Evaluation-metrics"><a href="#üîµ-Evaluation-metrics" class="headerlink" title="üîµ Evaluation metrics"></a>üîµ Evaluation metrics</h2><p><br> expected to be different in the control and experimental groups:</p>
</li>
<li><p>gross conversion 
<br> this metric may decrease: users could make a decision to enroll in the free trial in the experimental group less than in the control group because they did not plan to learn 5+ hours per week;</p>
</li>
<li><p>retention 
<br>this metriccan may increase: enrolled users could less be disappointed in the learning process and make more payments in the experimental group than in the control group because they paid attention to studying 5+ hours per week;</p>
</li>
<li><p>net conversion
<br>this metric may decrease: users could enroll in the free trial less in the experimental group than in the control group, thus could decrease the number of people who paid.</p>
</li>
</ul>
<h3 id="The-goals-of-the-experiment-in-the-practical-meaning"><a href="#The-goals-of-the-experiment-in-the-practical-meaning" class="headerlink" title="The goals of the experiment in the practical meaning:"></a>The goals of the experiment in the practical meaning:</h3><ul>
<li>the number of payments should not be decreased;</li>
<li>the number of students who were disappointed and had not paid because they could not study enough time should be reduced.</li>
</ul>
<h3 id="The-goals-of-the-experiment-in-terms-of-our-metrics"><a href="#The-goals-of-the-experiment-in-terms-of-our-metrics" class="headerlink" title="The goals of the experiment in terms of our metrics:"></a>The goals of the experiment in terms of our metrics:</h3><ul>
<li>the gross conversion should significantly decrease;</li>
<li>the retention should significantly increase;</li>
<li>the net conversion should not decrease.</li>
</ul>
<p><br>An important remark: the number of user-ids is neither a good invariant metric nor a good evaluation metric.
<br>From one side, the new pop-up message is likely to decrease the total number of user-ids who enrolled in the free trial, so it is not invariant; from the other side it is not normalized, the number of visitors may be different between the experiment and control groups, so it is not good for evaluation.</p>
<h2 id="üìñ-Measuring-Variability"><a href="#üìñ-Measuring-Variability" class="headerlink" title="üìñ   Measuring Variability"></a>üìñ   Measuring Variability</h2><p><font color="blue">This list contains rough estimates of the baseline values for these metrics (again, these numbers have been changed from Udacity‚Äôs true numbers).
</font></p>
<pre class="line-numbers language-python"><code class="language-python">baseline <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">"Final Project Baseline Values - Sheet1.csv"</span><span class="token punctuation">,</span> index_col<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span>header <span class="token operator">=</span> None<span class="token punctuation">,</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'metric'</span><span class="token punctuation">,</span><span class="token string">'baseline_value'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
baseline<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}</code></pre><p></style><p></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>metric</th>
      <th>baseline_value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Unique cookies to view course overview page pe...</td>
      <td>40000.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Unique cookies to click "Start free trial" per...</td>
      <td>3200.000000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Enrollments per day:</td>
      <td>660.000000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Click-through-probability on "Start free trial":</td>
      <td>0.080000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Probability of enrolling, given click:</td>
      <td>0.206250</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Probability of payment, given enroll:</td>
      <td>0.530000</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Probability of payment, given click</td>
      <td>0.109313</td>
    </tr>
  </tbody>
</table>
</div>



<h3 id="For-each-metric-I-selected-as-an-evaluation-metric-estimate-standard-deviation-analytically"><a href="#For-each-metric-I-selected-as-an-evaluation-metric-estimate-standard-deviation-analytically" class="headerlink" title="For each metric I selected as an evaluation metric, estimate standard deviation analytically:"></a>For each metric I selected as an evaluation metric, estimate standard deviation analytically:</h3><p>The number of clicks and enrollments follows a binomial distribution, and by the central limit theorem, the distribution of the three rates (gross conversion, retention, and net conversion) is Gaussian.</p>
<p>Given the daily sample of 5000 cookies, the number of clicks and enrollments can be calculated using the baseline values
<br>Number of cookies = 5000
<br>Number of clicks on ‚ÄúStart free trial‚Äù = 5000 √ó 0.08 = 400
<br>Number of enrollments = 5000 √ó 0.08 √ó 0.20625 = 82.5</p>
<p>$$ SD \; Gross\; conversion = \sqrt{\frac{p <em> (1 - p)} {n}} = \sqrt{\frac{0.20625 </em> (1 - 0.20625)} {400} }= 0.0202 $$
$$ SD \; Retention = \sqrt{\frac{p <em> (1 - p)} {n}} = \sqrt{\frac{0.53 </em> (1 - 0.53)} { 82.5}} = 0.0549 $$
$$ SD \; Net\; conversion = \sqrt{\frac{p <em> (1 - p)} {n}} = \sqrt{\frac{0.1093125 </em> (1 - 0.1093125)} {400}} = 0.0156 $$</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Supporting calculation for the standard deviation</span>
<span class="token keyword">import</span> math
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"5000 √ó 0.08 √ó 0.20625 = "</span><span class="token punctuation">,</span> <span class="token number">5000</span> <span class="token operator">*</span> <span class="token number">0.08</span> <span class="token operator">*</span> <span class="token number">0.20625</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"SD Gross conversion = "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token number">0.20625</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token number">0.20625</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"SD Retention = "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token number">0.53</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token number">0.53</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">82.5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"SD Net conversion = "</span><span class="token punctuation">,</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token number">0.1093125</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token number">0.1093125</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>5000 √ó 0.08 √ó 0.20625 =  82.5
SD Gross conversion =  0.020230604137049392
SD Retention =  0.05494901217850908
SD Net conversion =  0.01560154458248846</code></pre><p>I would like to expect the analytical variance is close to the empirical variance for the gross conversion and for the net conversion: the denominator for these two indicators is the number of clicks, which is also the unit of diversion.</p>
<p>And it would be useful to collect an empirical estimate of the variability for the retention: the unit of diversion was not used in this case, the empirical variance of the retention is more likely to be higher than the analytical variance.</p>
<h2 id="üìñ-Sizing"><a href="#üìñ-Sizing" class="headerlink" title="üìñ Sizing"></a>üìñ Sizing</h2><h2 id="Number-of-Samples-given-Power"><a href="#Number-of-Samples-given-Power" class="headerlink" title="Number of Samples given Power"></a>Number of Samples given Power</h2><p>Using the analytic estimates of variance to calculate how many pageviews total (across both groups) would I need to collect to adequately power the experiment. Use an alpha of 0.05 and a beta of 0.2.</p>
<p>I have used the online calculator (References, N5) for calculating the sample sizes and have chosen the largest.</p>
<pre class="line-numbers language-python"><code class="language-python">Image<span class="token punctuation">(</span><span class="token string">'sample_size.png'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="1_27_0.png" alt="png"></p>
<pre class="line-numbers language-python"><code class="language-python">Image<span class="token punctuation">(</span><span class="token string">'Sample_Retention_Screenshot.png'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="1_28_0.png" alt="png"></p>
<pre class="line-numbers language-python"><code class="language-python">Image<span class="token punctuation">(</span><span class="token string">'Sample_Net_conversion_Screenshot.png'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="1_29_0.png" alt="png"></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Supporting calculation for the control and experimental groups</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Gross conversion: 2 √ó 25835 √ó 40000 √∑ 3200 = "</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">25835</span> <span class="token operator">*</span> <span class="token number">40000</span> <span class="token operator">/</span> <span class="token number">3200.0</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Retention:  2 √ó 39115 √ó 40000 √∑ 660 = "</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">39115</span> <span class="token operator">*</span> <span class="token number">40000</span> <span class="token operator">/</span> <span class="token number">660.0</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Net conversion:  2 √ó 27413 √ó 40000 √∑ 3200 = "</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">27413</span> <span class="token operator">*</span> <span class="token number">40000</span> <span class="token operator">/</span> <span class="token number">3200.0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Gross conversion: 2 √ó 25835 √ó 40000 √∑ 3200 =  645875.0
Retention:  2 √ó 39115 √ó 40000 √∑ 660 =  4741212.121212121
Net conversion:  2 √ó 27413 √ó 40000 √∑ 3200 =  685325.0</code></pre><h2 id="Duration-vs-Exposure"><a href="#Duration-vs-Exposure" class="headerlink" title="Duration vs. Exposure"></a>Duration vs. Exposure</h2><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Supporting calculation for the number of days</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Number of pageviews: 4741212"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"(for the experiment with the gross conversion, the retention, and the net conversion)"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Days (100% of the traffic) = 4741212 √∑ 40000 = "</span><span class="token punctuation">,</span> <span class="token number">4741212</span> <span class="token operator">/</span> <span class="token number">40000.0</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Number of pageviews: 685325"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"(for the experiment with the gross conversion and the net conversion)"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Days (100% of the traffic) = 685325 √∑ 40000 = "</span><span class="token punctuation">,</span> <span class="token number">685325</span> <span class="token operator">/</span> <span class="token number">40000.0</span> <span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Days (60% of the traffic) = 685325 √∑ 40000 √∑ 0.6 = "</span><span class="token punctuation">,</span> <span class="token number">685325</span> <span class="token operator">/</span> <span class="token number">40000.0</span> <span class="token operator">/</span> <span class="token number">0.6</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Number of pageviews: 4741212
(for the experiment with the gross conversion, the retention, and the net conversion)
Days (100% of the traffic) = 4741212 √∑ 40000 =  118.5303

Number of pageviews: 685325
(for the experiment with the gross conversion and the net conversion)
Days (100% of the traffic) = 685325 √∑ 40000 =  17.133125
Days (60% of the traffic) = 685325 √∑ 40000 √∑ 0.6 =  28.555208333333333</code></pre><p> Even the use of 100 percent of the traffic does not allow testing in full for all three metrics (the gross conversion, the retention, and the net conversion). It turns out that we need to experiment 118 days. Of course, it is too long for tasks staged in the project. Percent reduction in traffic will increase this interval. Hence, it is necessary to reduce the number of test metrics and choose only two of them: the gross conversion and the net conversion.</p>
<p>I should reconsider an earlier decision about 4741212 needed pageviews and setup the number of pageviews equal to 685325. For the experiment with the gross conversion and the net conversion, we can use the period 17 days with the 100% traffic level. This interval is much better, but it gives us the result too quickly. The behavior of people in the field of education is quite difficult to analyze and trends in this area could be rarely detected in a short time period for 2-3 weeks. To slightly increase the time interval, we will set the percentage of used traffic at 60 (fraction = 0.6) and it gives us the number: 29 days.</p>
<p>It is also possible to take into consideration that the commercial risk is low: the site offers students to better plan and to evaluate their training time. The assumption of a sharp decrease in payments as a result of the pilot warning is devoid of practical foundation. For investments, the decisive factor is the first free period as a way to assess their own abilities, and it does not change during the experiment. The number of payments theoretically may slightly decrease due to the lower number of subscriptions, but this is only an assumption. Students who spend less than 5 hours a week are hardly able to complete the program successfully. In most cases, we are talking about reducing the waste of time for students and mentors.</p>
<p>And there is no risk in terms of privacy violation at all. Users do not enter any additional information about themselves in the process of the experiment except a little piece of information about planning.</p>
<p>It should be noted that the use of the fraction 0.6 does not affect the commercial interests seriously. From one side, the time interval and therefore the risk will increase. From another side, we keep the certain number of pageviews, therefore the experimental audience and the risk will not increase. It means our experiment could not practically be risky for the business.</p>
<p>Removing one indicator in the main part of the project, I want to analyze the experimental data in the last section on my own initiative a little bit wider and to determine what happens to the metrics ‚ÄúRetention‚Äù as the most interesting in terms of the psychological effect and the most unpredictable.</p>
<p>üîµ   Number of pageviews: 685325. üîµ   Fraction of traffic exposed: 0.6. üîµ   Length of experiment: 29.</p>
<h2 id="üìò-Experiment-Analysis"><a href="#üìò-Experiment-Analysis" class="headerlink" title="üìò Experiment Analysis"></a>üìò Experiment Analysis</h2><font color="blue">
This data contains the raw information needed to compute the above metrics, broken down day by day. Note that there are two sheets within the spreadsheet - one for the experiment group, and one for the control group.

<p>The meaning of each column is:</p>
<ul>
<li>Pageviews: Number of unique cookies to view the course overview page that day.</li>
<li>Clicks: Number of unique cookies to click the course overview page that day.</li>
<li>Enrollments: Number of user-ids to enroll in the free trial that day.</li>
<li>Payments: Number of user-ids who who enrolled on that day to remain enrolled for 14 days and thus make a payment.
<br>(Note that the date for this column is the start date, that is, the date of enrollment, rather than the date of the payment. The payment happened 14 days later. Because of this, the enrollments and payments are tracked for 14 fewer days than the other columns.)</li></ul></font>




<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt
<span class="token keyword">import</span> seaborn <span class="token keyword">as</span> sns
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token operator">%</span>matplotlib inline<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Read the data for the control and experimental groups</span>
control_data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'Final Project Results - Control.csv'</span><span class="token punctuation">)</span>
experiment_data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'Final Project Results - Experiment.csv'</span><span class="token punctuation">)</span>
control_data2 <span class="token operator">=</span> control_data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">]</span>
experiment_data2 <span class="token operator">=</span> experiment_data<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">23</span><span class="token punctuation">]</span>

<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Control data"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span>control_data<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Experimental data"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span>experiment_data<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Control data
          Date  Pageviews  Clicks  Enrollments  Payments
0  Sat, Oct 11       7723     687        134.0      70.0
1  Sun, Oct 12       9102     779        147.0      70.0
2  Mon, Oct 13      10511     909        167.0      95.0

Experimental data
          Date  Pageviews  Clicks  Enrollments  Payments
0  Sat, Oct 11       7716     686        105.0      34.0
1  Sun, Oct 12       9288     785        116.0      91.0
2  Mon, Oct 13      10480     884        145.0      79.0</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Plot the metrics</span>
plt<span class="token punctuation">.</span>style<span class="token punctuation">.</span>use<span class="token punctuation">(</span><span class="token string">'ggplot'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>rcParams<span class="token punctuation">[</span><span class="token string">'figure.figsize'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span>
csfont <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'fontname'</span><span class="token punctuation">:</span><span class="token string">'Arial'</span><span class="token punctuation">}</span>
plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Click-through-probability on "Start free trial"'</span><span class="token punctuation">,</span> <span class="token operator">**</span>csfont<span class="token punctuation">)</span>
line1<span class="token punctuation">,</span> <span class="token operator">=</span> plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>control_data<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span><span class="token operator">/</span>control_data<span class="token punctuation">[</span><span class="token string">'Pageviews'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'control'</span><span class="token punctuation">)</span>
line2<span class="token punctuation">,</span> <span class="token operator">=</span> plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>experiment_data<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span><span class="token operator">/</span>experiment_data<span class="token punctuation">[</span><span class="token string">'Pageviews'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'experiment'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>handles<span class="token operator">=</span><span class="token punctuation">[</span>line1<span class="token punctuation">,</span> line2<span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>&lt;matplotlib.legend.Legend at 0x1a16a3a46d8&gt;</code></pre><p><img src="1_40_1.png" alt="png"></p>
<pre class="line-numbers language-python"><code class="language-python">plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Gross conversion'</span><span class="token punctuation">,</span> <span class="token operator">**</span>csfont<span class="token punctuation">)</span>
line3<span class="token punctuation">,</span> <span class="token operator">=</span> plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>control_data2<span class="token punctuation">[</span><span class="token string">'Enrollments'</span><span class="token punctuation">]</span><span class="token operator">/</span>control_data2<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'control'</span><span class="token punctuation">)</span>
line4<span class="token punctuation">,</span> <span class="token operator">=</span> plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>experiment_data2<span class="token punctuation">[</span><span class="token string">'Enrollments'</span><span class="token punctuation">]</span><span class="token operator">/</span>experiment_data2<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'experiment'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>handles<span class="token operator">=</span><span class="token punctuation">[</span>line3<span class="token punctuation">,</span> line4<span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>&lt;matplotlib.legend.Legend at 0x1a16a5ae9e8&gt;</code></pre><p><img src="1_41_1.png" alt="png"></p>
<pre class="line-numbers language-python"><code class="language-python">plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Net conversion'</span><span class="token punctuation">,</span> <span class="token operator">**</span>csfont<span class="token punctuation">)</span>
line7<span class="token punctuation">,</span> <span class="token operator">=</span> plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>control_data2<span class="token punctuation">[</span><span class="token string">'Payments'</span><span class="token punctuation">]</span><span class="token operator">/</span>control_data2<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'control'</span><span class="token punctuation">)</span>
line8<span class="token punctuation">,</span> <span class="token operator">=</span> plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>experiment_data2<span class="token punctuation">[</span><span class="token string">'Payments'</span><span class="token punctuation">]</span><span class="token operator">/</span>experiment_data2<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'experiment'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>handles<span class="token operator">=</span><span class="token punctuation">[</span>line7<span class="token punctuation">,</span> line8<span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>&lt;matplotlib.legend.Legend at 0x1a16a3f4a20&gt;</code></pre><p><img src="1_42_1.png" alt="png"></p>
<h2 id="üìñ-Sanity-Checks"><a href="#üìñ-Sanity-Checks" class="headerlink" title="üìñ   Sanity Checks"></a>üìñ   Sanity Checks</h2><font color="blue">
<br>Start by checking whether your invariant metrics are equivalent between the two groups. 
<br>   - If the invariant metric is a simple count that should be randomly split between the 2 groups, you can use a binomial test. 
<br>   - Otherwise, you will need to construct a confidence interval for a difference in proportions using a similar strategy then check whether the difference between group values falls within that confidence level. 
</font>


<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Control group:"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Clicks = "</span><span class="token punctuation">,</span> control_data<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"   "</span><span class="token punctuation">,</span> \
      <span class="token string">"Pageviews = "</span><span class="token punctuation">,</span> control_data<span class="token punctuation">[</span><span class="token string">'Pageviews'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Experimental group:"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Clicks = "</span><span class="token punctuation">,</span> experiment_data<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"   "</span><span class="token punctuation">,</span> \
      <span class="token string">"Pageviews = "</span><span class="token punctuation">,</span> experiment_data<span class="token punctuation">[</span><span class="token string">'Pageviews'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Control group:
Clicks =  28378     Pageviews =  345543

Experimental group:
Clicks =  28325     Pageviews =  344660</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Supporting calculation for checking invariant metrics</span>
p <span class="token operator">=</span> <span class="token number">0.5</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Number of cookies:"</span><span class="token punctuation">)</span>
SE_cookies <span class="token operator">=</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>p <span class="token operator">*</span> p <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">345543</span> <span class="token operator">+</span> <span class="token number">344660</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Standard error SE = "</span><span class="token punctuation">,</span> SE_cookies<span class="token punctuation">)</span>
ME_cookies <span class="token operator">=</span> SE_cookies <span class="token operator">*</span> <span class="token number">1.96</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Margin of error ME = "</span><span class="token punctuation">,</span> ME_cookies<span class="token punctuation">)</span>
<span class="token punctuation">(</span>LB_cookies<span class="token punctuation">,</span> UB_cookies<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>p <span class="token operator">-</span> ME_cookies<span class="token punctuation">,</span> p <span class="token operator">+</span> ME_cookies<span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Confidential interval CI = "</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LB_cookies<span class="token punctuation">,</span> UB_cookies<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> u<span class="token string">'p\u0302'</span><span class="token punctuation">,</span> <span class="token string">"="</span><span class="token punctuation">,</span> <span class="token number">345543.0</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">345543</span> <span class="token operator">+</span> <span class="token number">344660</span><span class="token punctuation">)</span><span class="token punctuation">,</span> u<span class="token string">'\u2208'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LB_cookies<span class="token punctuation">,</span> UB_cookies<span class="token punctuation">)</span><span class="token punctuation">,</span> u<span class="token string">'\u2713'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">'Number of clicks on ‚ÄúStart free trial":'</span><span class="token punctuation">)</span>
SE_clicks <span class="token operator">=</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span><span class="token number">0.5</span> <span class="token operator">*</span> <span class="token number">0.5</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">28378</span> <span class="token operator">+</span> <span class="token number">28325</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Standard error SE = "</span><span class="token punctuation">,</span> SE_clicks<span class="token punctuation">)</span>
ME_clicks <span class="token operator">=</span> SE_clicks <span class="token operator">*</span> <span class="token number">1.96</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Margin of error ME = "</span><span class="token punctuation">,</span> ME_clicks<span class="token punctuation">)</span>
<span class="token punctuation">(</span>LB_clicks<span class="token punctuation">,</span> UB_clicks<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>p <span class="token operator">-</span> ME_clicks<span class="token punctuation">,</span> p <span class="token operator">+</span> ME_clicks<span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Confidential interval CI = "</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LB_clicks<span class="token punctuation">,</span> UB_clicks<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> u<span class="token string">'p\u0302'</span><span class="token punctuation">,</span> <span class="token string">"="</span><span class="token punctuation">,</span> <span class="token number">28378.0</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">28378</span> <span class="token operator">+</span> <span class="token number">28325</span><span class="token punctuation">)</span><span class="token punctuation">,</span> u<span class="token string">'\u2208'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LB_clicks<span class="token punctuation">,</span> UB_clicks<span class="token punctuation">)</span><span class="token punctuation">,</span> u<span class="token string">'\u2713'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">'Click-through-probability on "Start free trial":'</span><span class="token punctuation">)</span>
p_pool <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">28378</span> <span class="token operator">+</span> <span class="token number">28325</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">345543</span> <span class="token operator">+</span> <span class="token number">344660</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Pooled probability p_pool = "</span><span class="token punctuation">,</span> p_pool<span class="token punctuation">)</span>
SE_pool <span class="token operator">=</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>p_pool <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> p_pool<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">345543</span> <span class="token operator">+</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">344660</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Standard error SE = "</span><span class="token punctuation">,</span> SE_pool<span class="token punctuation">)</span>
ME_pool <span class="token operator">=</span> SE_pool <span class="token operator">*</span> <span class="token number">1.96</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Margin of error ME = "</span><span class="token punctuation">,</span> ME_pool<span class="token punctuation">)</span>
d_hat <span class="token operator">=</span> <span class="token number">28325.0</span> <span class="token operator">/</span> <span class="token number">344660</span> <span class="token operator">-</span> <span class="token number">28378.0</span> <span class="token operator">/</span> <span class="token number">345543</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Difference"</span><span class="token punctuation">,</span> u<span class="token string">'d\u0302'</span><span class="token punctuation">,</span> <span class="token string">"= "</span><span class="token punctuation">,</span> d_hat<span class="token punctuation">)</span>
<span class="token punctuation">(</span>LB_pool<span class="token punctuation">,</span> UB_pool<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0</span> <span class="token operator">-</span> ME_pool<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token operator">+</span> ME_pool<span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Confidential interval CI = "</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LB_pool<span class="token punctuation">,</span> UB_pool<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span>u<span class="token string">'d\u0302'</span><span class="token punctuation">,</span> u<span class="token string">'\u2208'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LB_pool<span class="token punctuation">,</span> UB_pool<span class="token punctuation">)</span><span class="token punctuation">,</span> u<span class="token string">'\u2713'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Number of cookies:
Standard error SE =  0.0006018407402943247
Margin of error ME =  0.0011796078509768765
Confidential interval CI =  (0.49882039214902313, 0.5011796078509769)
pÃÇ = 0.5006396668806133 ‚àà (0.49882039214902313, 0.5011796078509769) ‚úì

Number of clicks on ‚ÄúStart free trial&quot;:
Standard error SE =  0.002099747079699252
Margin of error ME =  0.0041155042762105335
Confidential interval CI =  (0.49588449572378945, 0.5041155042762105)
pÃÇ = 0.5004673474066628 ‚àà (0.49588449572378945, 0.5041155042762105) ‚úì

Click-through-probability on &quot;Start free trial&quot;:
Pooled probability p_pool =  0.08215409089789526
Standard error SE =  0.0006610608156387222
Margin of error ME =  0.0012956791986518956
Difference dÃÇ =  5.662709158693602e-05
Confidential interval CI =  (-0.0012956791986518956, 0.0012956791986518956)
dÃÇ ‚àà (-0.0012956791986518956, 0.0012956791986518956) ‚úì</code></pre><p>üîµ   Number of cookies
Lower bound = 0.4988; Upper bound = 0.5012; Observed = 0.5006; Passes = ‚úÖ</p>
<p>üîµ   Number of clicks on ‚ÄúStart free trial‚Äù
Lower bound = 0.4959; Upper bound = 0.5041; Observed = 0.5005; Passes = ‚úÖ</p>
<p>üîµ   Click-through-probability on ‚ÄúStart free trial‚Äù (Difference between the control and experimental groups)
Lower bound = -0.0013; Upper bound = 0.0013; Observed = 0.0001; Passes = ‚úÖ</p>
<h2 id="üìñ-Result-Analysis"><a href="#üìñ-Result-Analysis" class="headerlink" title="üìñ   Result Analysis"></a>üìñ   Result Analysis</h2><h3 id="Check-for-Practical-and-Statistical-Significance"><a href="#Check-for-Practical-and-Statistical-Significance" class="headerlink" title="Check for Practical and Statistical Significance"></a>Check for Practical and Statistical Significance</h3><p>Next, for my evaluation metrics, calculate a confidence interval for the difference between the experiment and control groups, and check whether each metric is statistically and/or practically significance. 
<br></p>
<ul>
<li>A metric is statistically significant if the confidence interval does not include 0 (that is, you can be confident there was a change)<br></li>
<li>it is practically significant if the confidence interval does not include the practical significance boundary (that is, you can be confident there is a change that matters to the business.)</li>
</ul>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Control group:"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Clicks = "</span><span class="token punctuation">,</span> control_data2<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"   "</span><span class="token punctuation">,</span> \
<span class="token string">"Enrollments = "</span><span class="token punctuation">,</span> control_data2<span class="token punctuation">[</span><span class="token string">'Enrollments'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"   "</span><span class="token punctuation">,</span> \
<span class="token string">"Payments = "</span><span class="token punctuation">,</span> control_data2<span class="token punctuation">[</span><span class="token string">'Payments'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Experimental group:"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Clicks = "</span><span class="token punctuation">,</span> experiment_data2<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"   "</span><span class="token punctuation">,</span> \
<span class="token string">"Enrollments = "</span><span class="token punctuation">,</span> experiment_data2<span class="token punctuation">[</span><span class="token string">'Enrollments'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"   "</span><span class="token punctuation">,</span> \
<span class="token string">"Payments = "</span><span class="token punctuation">,</span> experiment_data2<span class="token punctuation">[</span><span class="token string">'Payments'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Control group:
Clicks =  17293     Enrollments =  3785.0     Payments =  2033.0
Experimental group:
Clicks =  17260     Enrollments =  3423.0     Payments =  1945.0</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Supporting calculation for checking evaluation metrics</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Gross conversion"</span><span class="token punctuation">)</span>
p_pool <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">3785.0</span> <span class="token operator">+</span> <span class="token number">3423.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">17293</span> <span class="token operator">+</span> <span class="token number">17260</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Pooled probability p_pool = "</span><span class="token punctuation">,</span> p_pool<span class="token punctuation">)</span>
SE_pool <span class="token operator">=</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>p_pool <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> p_pool<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">17293</span> <span class="token operator">+</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">17260</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Standard error SE = "</span><span class="token punctuation">,</span> SE_pool<span class="token punctuation">)</span>
ME_pool <span class="token operator">=</span> SE_pool <span class="token operator">*</span> <span class="token number">1.96</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Margin of error ME = "</span><span class="token punctuation">,</span> ME_pool<span class="token punctuation">)</span>
d <span class="token operator">=</span> <span class="token number">3423.0</span> <span class="token operator">/</span> <span class="token number">17260</span> <span class="token operator">-</span> <span class="token number">3785.0</span> <span class="token operator">/</span> <span class="token number">17293</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Difference d"</span><span class="token punctuation">,</span> <span class="token string">"= "</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span>
<span class="token punctuation">(</span>LB_pool<span class="token punctuation">,</span> UB_pool<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>d <span class="token operator">-</span> ME_pool<span class="token punctuation">,</span> d <span class="token operator">+</span> ME_pool<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Confidential interval CI = "</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LB_pool<span class="token punctuation">,</span> UB_pool<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.01</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0.01</span><span class="token punctuation">)</span><span class="token punctuation">,</span> u<span class="token string">'\u2209'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LB_pool<span class="token punctuation">,</span> UB_pool<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Statistical significance"</span><span class="token punctuation">,</span> u<span class="token string">'\u2713'</span><span class="token punctuation">,</span> <span class="token string">"  Practical significance "</span><span class="token punctuation">,</span> u<span class="token string">'\u2713'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Net conversion"</span><span class="token punctuation">)</span>
p_pool <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">2033.0</span> <span class="token operator">+</span> <span class="token number">1945.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">17293</span> <span class="token operator">+</span> <span class="token number">17260</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Pooled probability p_pool = "</span><span class="token punctuation">,</span> p_pool<span class="token punctuation">)</span>
SE_pool <span class="token operator">=</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>p_pool <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> p_pool<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">17293</span> <span class="token operator">+</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">17260</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Standard error SE = "</span><span class="token punctuation">,</span> SE_pool<span class="token punctuation">)</span>
ME_pool <span class="token operator">=</span> SE_pool <span class="token operator">*</span> <span class="token number">1.96</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Margin of error ME = "</span><span class="token punctuation">,</span> ME_pool<span class="token punctuation">)</span>
d <span class="token operator">=</span> <span class="token number">1945.0</span> <span class="token operator">/</span> <span class="token number">17260</span> <span class="token operator">-</span> <span class="token number">2033.0</span> <span class="token operator">/</span> <span class="token number">17293</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Difference d = "</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span>
<span class="token punctuation">(</span>LB_pool<span class="token punctuation">,</span> UB_pool<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>d <span class="token operator">-</span> ME_pool<span class="token punctuation">,</span> d <span class="token operator">+</span> ME_pool<span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Confidential interval CI = "</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LB_pool<span class="token punctuation">,</span> UB_pool<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> u<span class="token string">'\u2208'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LB_pool<span class="token punctuation">,</span> UB_pool<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token string">";  dmin = -0.0075"</span><span class="token punctuation">,</span> u<span class="token string">'\u2208'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LB_pool<span class="token punctuation">,</span> UB_pool<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Statistical significance"</span><span class="token punctuation">,</span> u<span class="token string">'\u2718'</span><span class="token punctuation">,</span> <span class="token string">"  Practical significance "</span><span class="token punctuation">,</span> u<span class="token string">'\u2718'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Gross conversion
Pooled probability p_pool =  0.20860706740369866
Standard error SE =  0.004371675385225936
Margin of error ME =  0.008568483755042836
Difference d =  -0.020554874580361565
Confidential interval CI =  (-0.0291233583354044, -0.01198639082531873)
(-0.01, 0, 0.01) ‚àâ (-0.0291233583354044, -0.01198639082531873)
Statistical significance ‚úì   Practical significance  ‚úì

Net conversion
Pooled probability p_pool =  0.1151274853124186
Standard error SE =  0.0034341335129324238
Margin of error ME =  0.0067309016853475505
Difference d =  -0.0048737226745441675
Confidential interval CI =  (-0.011604624359891718, 0.001857179010803383)
0 ‚àà (-0.011604624359891718, 0.001857179010803383) ;  dmin = -0.0075 ‚àà (-0.011604624359891718, 0.001857179010803383)
Statistical significance ‚úò   Practical significance  ‚úò</code></pre><font color="blue">
If you have chosen multiple evaluation metrics, you will need to decide whether to use the Bonferroni correction. When deciding, keep in mind the results you are looking for in order to launch the experiment. Will the fact that you have multiple metrics make those results more likely to occur by chance than the alpha level of 0.05?
</font>

<p>We have measured two metrics in one experiment. Applying the Bonferroni correction means that the a-level for each hypothesis will be 2.5 % instead of 5% and confidential intervals will be significantly wider. It is too conservative for some reasons.</p>
<p>The use of the Bonferroni correction would really be needed if we test several metrics in one experiment and expect that at least one metrics will demonstrate the statistically significant change. In the set of metrics, this matching only for one indicator can be an absolutely random event, therefore the experiment will have a false positive result. It means we should increase the confidential intervals to avoid this situation and apply the Bonferroni correction.</p>
<p>But in the case of our experiment, we expect two metrics will have matched our criteria at the same time to proceed with the launch. It‚Äôs a very strong condition without any correction. The positive results will be more likely to occur not by chance. Therefore, the Bonferroni correction could be the cause to approve the wrong null hypothesis and we should not use it this time.</p>
<p>Also, our metrics have a strong relationship between each other. If we know the outcome of one test of a difference between the control and experimental groups on one metrics, it would be easy to predict and to find the outcome of the other tests on the other metrics. It‚Äôs absolutely natural to expect their behavior will be similar simultaneously.</p>
<h3 id="Effect-Size-Tests"><a href="#Effect-Size-Tests" class="headerlink" title="Effect Size Tests"></a>Effect Size Tests</h3><p><br>üî¥   I did not use the Bonferroni correction.</p>
<p><br>üîµ   Gross conversion (Difference between the control and experimental groups)
<br>Lower bound = -0.0291; Upper bound = -0.0120; Statistical significance = ‚úÖ; Practical significance = ‚úÖ</p>
<p><br>üîµ   Net conversion (Difference between the control and experimental groups)
<br>Lower bound = -0.0116; Upper bound = 0.0019; Statistical significance = ‚ùé; Practical significance = ‚ùé</p>
<h3 id="Sign-Tests-Double-check"><a href="#Sign-Tests-Double-check" class="headerlink" title="Sign Tests(Double check)"></a>Sign Tests(Double check)</h3><p>To further test each of the evaluation metrics, a binomial sign test can be conducted to evaluate Each day of the experiment to see if there is a positive or negative difference across groups (experimental-control). Each positive difference is counted as a success, and each negative difference as a failure. Then comparing the resulting p-values for each metric to determine significance.</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># Supporting calculation of successful events for the evaluation metrics</span>
Gross_conversion_success <span class="token operator">=</span> experiment_data2<span class="token punctuation">[</span><span class="token string">'Enrollments'</span><span class="token punctuation">]</span><span class="token operator">/</span>experiment_data2<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span> \
<span class="token operator">></span>control_data2<span class="token punctuation">[</span><span class="token string">'Enrollments'</span><span class="token punctuation">]</span><span class="token operator">/</span>control_data2<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Gross conversion: success ="</span><span class="token punctuation">,</span> Gross_conversion_success<span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"  total ="</span><span class="token punctuation">,</span> Gross_conversion_success<span class="token punctuation">.</span>size<span class="token punctuation">)</span>
Net_conversion_success <span class="token operator">=</span> experiment_data2<span class="token punctuation">[</span><span class="token string">'Payments'</span><span class="token punctuation">]</span><span class="token operator">/</span>experiment_data2<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span> \
<span class="token operator">></span>control_data2<span class="token punctuation">[</span><span class="token string">'Payments'</span><span class="token punctuation">]</span><span class="token operator">/</span>control_data2<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Net conversion: success ="</span><span class="token punctuation">,</span> Net_conversion_success<span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"  total ="</span><span class="token punctuation">,</span> Net_conversion_success<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Gross conversion: success = 4   total = 23
Net conversion: success = 10   total = 23</code></pre><pre class="line-numbers language-python"><code class="language-python">Image<span class="token punctuation">(</span><span class="token string">'Sign_Gross_conversion_Screenshot.png'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="1_60_0.png" alt="png"></p>
<pre class="line-numbers language-python"><code class="language-python">Image<span class="token punctuation">(</span><span class="token string">'Sign_Net_conversion_Screenshot.png'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="1_61_0.png" alt="png"></p>
<p>üîµ   Gross conversion: p-value = 0.0026; statistical significance = ‚úÖ
üîµ   Net conversion: p-value = 0.6776; statistical significance = ‚ùé</p>
<p>Eventually, the effective size and sign tests show that the site change would statistically significantly reduce the gross conversion, but would not affect the net conversion in a statistically significant way. The effect size test states this in the practical meaning also.</p>
<p>I did not use the Bonferroni correction for any calculations because it will be too conservative in the case of highly related metrics which should give the expected result simultaneously.</p>
<h2 id="üìñ-Recommendation"><a href="#üìñ-Recommendation" class="headerlink" title="üìñ   Recommendation"></a>üìñ   Recommendation</h2><p><br> The recommendation is not to launch the experiment change because the negative results have outweighed the positive ones.</p>
<p><br>üî¥ Positive results of the experiment.</p>
<ul>
<li>The difference for the gross conversion is practically significant and negative. This is a good sign: the Udacity team can lower costs by a number of trial signups.</li>
<li>The difference for the net conversion is not statistically significant. It means the absence of serious financial losses.</li>
</ul>
<p><br>üîµ Negative results of the experiment:</p>
<ul>
<li>The interval for the difference in the case of the net conversion includes negative numbers. Therefore, the team has a risk to decrease incomes.</li>
<li>We have not gathered enough data to draw conclusions about the retention and because of this we can not evaluate correctly the difference between the control and experimental groups for a number of students who were disappointed in studying during the free period. Consequently, we do not know enrolled users would be disappointed in the learning process less and make more payments or would not.</li>
</ul>
<h2 id="üìò-Follow-Up-Experiment"><a href="#üìò-Follow-Up-Experiment" class="headerlink" title="üìò Follow-Up Experiment"></a>üìò Follow-Up Experiment</h2><p>Before scheduling the follow-up experiment, I would like to analyze the available data for the evaluation metrics ‚ÄúRetention‚Äù.</p>
<pre class="line-numbers language-python"><code class="language-python">plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'Retention'</span><span class="token punctuation">,</span> <span class="token operator">**</span>csfont<span class="token punctuation">)</span>
line5<span class="token punctuation">,</span> <span class="token operator">=</span> plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>control_data2<span class="token punctuation">[</span><span class="token string">'Payments'</span><span class="token punctuation">]</span><span class="token operator">/</span>control_data2<span class="token punctuation">[</span><span class="token string">'Enrollments'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'control'</span><span class="token punctuation">)</span>
line6<span class="token punctuation">,</span> <span class="token operator">=</span> plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>experiment_data2<span class="token punctuation">[</span><span class="token string">'Payments'</span><span class="token punctuation">]</span><span class="token operator">/</span>experiment_data2<span class="token punctuation">[</span><span class="token string">'Enrollments'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> label<span class="token operator">=</span><span class="token string">'experiment'</span><span class="token punctuation">)</span>
plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span>handles<span class="token operator">=</span><span class="token punctuation">[</span>line5<span class="token punctuation">,</span> line6<span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>&lt;matplotlib.legend.Legend at 0x1a16a413b38&gt;</code></pre><p><img src="1_68_1.png" alt="png"></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Retention"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Effect Size Tests"</span><span class="token punctuation">)</span>
p_pool <span class="token operator">=</span> <span class="token number">1.0</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">2033.0</span> <span class="token operator">+</span> <span class="token number">1945.0</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">3785.0</span> <span class="token operator">+</span> <span class="token number">3423.0</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Pooled probability p_pool = "</span><span class="token punctuation">,</span> p_pool<span class="token punctuation">)</span>
SE_pool <span class="token operator">=</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>p_pool <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> p_pool<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">3785.0</span> <span class="token operator">+</span> <span class="token number">1.0</span> <span class="token operator">/</span> <span class="token number">3423.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Standard error SE = "</span><span class="token punctuation">,</span> SE_pool<span class="token punctuation">)</span>
ME_pool <span class="token operator">=</span> SE_pool <span class="token operator">*</span> <span class="token number">1.96</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Margin of error ME = "</span><span class="token punctuation">,</span> ME_pool<span class="token punctuation">)</span>
d <span class="token operator">=</span> <span class="token number">1945.0</span> <span class="token operator">/</span> <span class="token number">3423.0</span> <span class="token operator">-</span> <span class="token number">2033.0</span> <span class="token operator">/</span> <span class="token number">3785.0</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Difference d = "</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span>
<span class="token punctuation">(</span>LB_pool<span class="token punctuation">,</span> UB_pool<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>d <span class="token operator">-</span> ME_pool<span class="token punctuation">,</span> d <span class="token operator">+</span> ME_pool<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Confidential interval CI = "</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LB_pool<span class="token punctuation">,</span> UB_pool<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span>  <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> u<span class="token string">'\u2209'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LB_pool<span class="token punctuation">,</span> UB_pool<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">";  dmin = 0.01"</span><span class="token punctuation">,</span> u<span class="token string">'\u2208'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>LB_pool<span class="token punctuation">,</span> UB_pool<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Statistical significance"</span><span class="token punctuation">,</span> u<span class="token string">'\u2713'</span><span class="token punctuation">,</span> <span class="token string">"  Practical significance "</span><span class="token punctuation">,</span> u<span class="token string">'\u2718'</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Sign test"</span><span class="token punctuation">)</span>
Retention_success <span class="token operator">=</span> experiment_data2<span class="token punctuation">[</span><span class="token string">'Payments'</span><span class="token punctuation">]</span><span class="token operator">/</span>experiment_data2<span class="token punctuation">[</span><span class="token string">'Enrollments'</span><span class="token punctuation">]</span> \
<span class="token operator">></span>control_data2<span class="token punctuation">[</span><span class="token string">'Payments'</span><span class="token punctuation">]</span><span class="token operator">/</span>control_data2<span class="token punctuation">[</span><span class="token string">'Enrollments'</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"success ="</span><span class="token punctuation">,</span> Retention_success<span class="token punctuation">.</span>sum<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"  total ="</span><span class="token punctuation">,</span> Retention_success<span class="token punctuation">.</span>size<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Retention

Effect Size Tests
Pooled probability p_pool =  0.5518867924528302
Standard error SE =  0.011729780091389183
Margin of error ME =  0.022990368979122797
Difference d =  0.031094804707142765
Confidential interval CI =  (0.008104435728019967, 0.05408517368626556)
0 ‚àâ (0.008104435728019967, 0.05408517368626556) ;  dmin = 0.01 ‚àà (0.008104435728019967, 0.05408517368626556)
Statistical significance ‚úì   Practical significance  ‚úò

Sign test
success = 13   total = 23</code></pre><pre class="line-numbers language-python"><code class="language-python">Image<span class="token punctuation">(</span><span class="token string">'download (2).png'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="1_70_0.png" alt="png"></p>
<h3 id="Retention-Difference-between-the-control-and-experimental-groups"><a href="#Retention-Difference-between-the-control-and-experimental-groups" class="headerlink" title="Retention (Difference between the control and experimental groups)"></a>Retention (Difference between the control and experimental groups)</h3><p><br>üîµ   Effect size test
<br>Lower bound = 0.0081; Upper bound = 0.0541; Statistical significance = ‚úÖ; Practical significance = ‚ùé</p>
<p><br>üîµ   Sign test: p-value = 0.6776; statistical significance = ‚ùé</p>
<p>the sign test does not agree with the confidence interval for the difference, see if you can figure out why.</p>
<pre class="line-numbers language-python"><code class="language-python">Gross_conversion_diff <span class="token operator">=</span> experiment_data2<span class="token punctuation">[</span><span class="token string">'Enrollments'</span><span class="token punctuation">]</span><span class="token operator">/</span>experiment_data2<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span> <span class="token operator">-</span> \
control_data2<span class="token punctuation">[</span><span class="token string">'Enrollments'</span><span class="token punctuation">]</span><span class="token operator">/</span>control_data2<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Gross conversion difference"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Median: "</span><span class="token punctuation">,</span> Gross_conversion_diff<span class="token punctuation">.</span>median<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Mean: "</span><span class="token punctuation">,</span> Gross_conversion_diff<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Retention_diff <span class="token operator">=</span> experiment_data2<span class="token punctuation">[</span><span class="token string">'Payments'</span><span class="token punctuation">]</span><span class="token operator">/</span>experiment_data2<span class="token punctuation">[</span><span class="token string">'Enrollments'</span><span class="token punctuation">]</span> <span class="token operator">-</span> \
control_data2<span class="token punctuation">[</span><span class="token string">'Payments'</span><span class="token punctuation">]</span><span class="token operator">/</span>control_data2<span class="token punctuation">[</span><span class="token string">'Enrollments'</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Retention difference"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Median: "</span><span class="token punctuation">,</span> Retention_diff<span class="token punctuation">.</span>median<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Mean: "</span><span class="token punctuation">,</span> Retention_diff<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Net_conversion_diff <span class="token operator">=</span> experiment_data2<span class="token punctuation">[</span><span class="token string">'Payments'</span><span class="token punctuation">]</span><span class="token operator">/</span>experiment_data2<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span> <span class="token operator">-</span> \
control_data2<span class="token punctuation">[</span><span class="token string">'Payments'</span><span class="token punctuation">]</span><span class="token operator">/</span>control_data2<span class="token punctuation">[</span><span class="token string">'Clicks'</span><span class="token punctuation">]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span> <span class="token string">"Net conversion difference"</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Median: "</span><span class="token punctuation">,</span> Net_conversion_diff<span class="token punctuation">.</span>median<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span> <span class="token punctuation">(</span><span class="token string">"Mean: "</span><span class="token punctuation">,</span> Net_conversion_diff<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Gross conversion difference
Median:  -0.02475834310525149
Mean:  -0.02078458202926592

Retention difference
Median:  0.023210831721469982
Mean:  0.033342507466384695

Net conversion difference
Median:  -0.009027852539948616
Mean:  -0.004896856989809377</code></pre><p> Statistical significance of the difference between the control and experimental groups was checked by using the values of the mean (effect size tests) and the median (sign tests). As we can see, these values vary considerably for the retention and it causes that the test results also differ.</p>
<p>Even a cursory analysis of insufficient data in a certain way confirms our intuitive assumptions about the behavior of this metric. The ratio of payments to enrollments tends to increase in the presence of the experimental warning. However, it is not possible to confirm this with sufficient certainty in the borders of this experiment and it is necessary to redesign the research.</p>
<font color="blue">
If you wanted to reduce the number of frustrated students who cancel early in the course, what experiment would you try? Give a brief description of the change you would make, what your hypothesis would be about the effect of the change, what metrics you would want to measure, and what unit of diversion you would use. Include an explanation of each of your choices.
</font>

<p>I would suggest these possible changes to the proposed experiment.</p>
<ul>
<li>Extend the duration of the experiment up to 2 months with constant monitoring of incomes for avoiding financial risks. If the decline in revenues becomes out of the certain limits, the study should be stopped immediately.</li>
<li>Measure all three evaluation metrics (the gross conversion, the retention, and the net conversion) for the 100% level of traffic because the audience of this site is very different in education, age, nationality, and other characteristics. Any reduction in the percentage of participants can significantly distort the results.</li>
<li>Replace the visualization message by the video with an explanation of successful learning strategies based on statistics of the particular site or by the input test for the course level recommendations exactly for this user.</li>
<li>In order to avoid the negative psychological effect or cut the extremely talented part of the audience which is able to pass the course without spending a lot of time to study, all changes should be only informative and recommendatory.</li>
<li>Recommendations in the videos or leveled tests should have the most practical character that is suitable for this course.</li>
<li>The length of free trial period is unchanged.</li>
</ul>
<p>I think the effect will be more detectable.</p>
<p>Now we can begin to define the technical details of the experiment. Selecting the unit of diversion, and invariant and evaluation metrics was quite reasonable. It is easy to obtain measurement results for decision making without the high level of costs or risks. Accordingly, I propose to leave them unchanged.</p>
<p>Unit of diversion: the cookie.
Invariant metrics: the number of cookies, the number of clicks, and the click-through-probability.
Evaluation metrics: the gross conversion, the retention, and the net conversion.
The hypothesizes about the behavior of our metrics are also stayed the same:</p>
<p>the gross conversion should significantly decrease;
the retention should significantly increase;
the net conversion should not decrease.
I expect the overcoming the negative results of the previous experiment and detecting the tendencies for all evaluation metrics.</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ul>
<li>The final project: <a href="https://classroom.udacity.com/courses/ud257/lessons/4126079196/concepts/42072285530923" target="_blank" rel="noopener">https://classroom.udacity.com/courses/ud257/lessons/4126079196/concepts/42072285530923</a></li>
<li>The project instructions: <a href="https://docs.google.com/document/u/1/d/1aCquhIqsUApgsxQ8-SQBAigFDcfWVVohLEXcV6jWbdI/pub?embedded=True" target="_blank" rel="noopener">https://docs.google.com/document/u/1/d/1aCquhIqsUApgsxQ8-SQBAigFDcfWVVohLEXcV6jWbdI/pub?embedded=True</a></li>
<li>The template format: <a href="https://docs.google.com/document/d/16OX2KDSHI9mSCriyGIATpRGscIW2JmByMd0ITqKYvNg/edit" target="_blank" rel="noopener">https://docs.google.com/document/d/16OX2KDSHI9mSCriyGIATpRGscIW2JmByMd0ITqKYvNg/edit</a></li>
<li>The final project results: <a href="https://docs.google.com/spreadsheets/d/1Mu5u9GrybDdska-ljPXyBjTpdZIUev_6i7t4LRDfXM8/edit#gid=0" target="_blank" rel="noopener">https://docs.google.com/spreadsheets/d/1Mu5u9GrybDdska-ljPXyBjTpdZIUev_6i7t4LRDfXM8/edit#gid=0</a></li>
<li>The online calculator ‚ÄúSample size‚Äù: <a href="http://www.evanmiller.org/ab-testing/sample-size.html" target="_blank" rel="noopener">http://www.evanmiller.org/ab-testing/sample-size.html</a></li>
</ul>
<pre class="line-numbers language-python"><code class="language-python"><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

            </div>
            <hr />

            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone, qq, weibo, douban"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            


        </div>
    </div>

    
    <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: 'c090019fe3f06f8ef15d',
        clientSecret: '9f220a5e71efc340544fce7ae397f63151db8747',
        repo: 'naixinzhang.github.io',
        owner: 'naixinzhang',
        admin: "naixinzhang",
        id: '2019/11/22/abtest/free-trial-screener/',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>
    

    

    

    

    
    <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments input[type=text],
    #vcomments input[type=email],
    #vcomments input[type=url],
    #vcomments textarea {
        box-sizing: border-box;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #42b983;
        font-weight: 500;
        text-decoration: underline;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div id="vcomments" class="card-content"></div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<!-- <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script> -->

<script>
    new Valine({
        el: '#vcomments',
        appId: '',
        appKey: '',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'false' === 'true',
        avatar: 'wavatar',
        pageSize: '10',
        lang: 'en',
        placeholder: 'Â¶ÇÊûú‰Ω†Ê≤°ÊúâGitHubË¥¶Âè∑ÔºåËøòÂèØ‰ª•Âú®ËøôÈáåËØÑËÆ∫Âï¶ÔºÅ'
    });
</script>

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2019/11/23/cs301/cs301-proj8/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/23.jpg" class="responsive-img" alt="CS301_Proj8">
                        
                        <span class="card-title">CS301_Proj8</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            CS301_Proj8IntroductionHaving worked our way through soccer and hurricanes, we are now going
to work on the IMDB Movies 
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2019-11-23
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/CS301Proj/" class="post-category" target="_blank">
                                    CS301Proj
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/CS301-Data-Programming-I/" target="_blank">
                        <span class="chip bg-color">CS301 Data Programming I</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2019/11/14/cs301/cs301-proj7/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/24.jpg" class="responsive-img" alt="CS301_Proj7">
                        
                        <span class="card-title">CS301_Proj7</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            CS301_Proj7IntroLet‚Äôs Play Fifa19, Python style!  In this project, you will get more
practice with lists and start using
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2019-11-14
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/CS301Proj/" class="post-category" target="_blank">
                                    CS301Proj
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/CS301-Data-Programming-I/" target="_blank">
                        <span class="chip bg-color">CS301 Data Programming I</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC ÊÇ¨ÊµÆÊåâÈíÆ. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* ‰øÆÂ§çÊñáÁ´†Âç°Áâá div ÁöÑÂÆΩÂ∫¶. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // ÂàáÊç¢TOCÁõÆÂΩïÂ±ïÂºÄÊî∂Áº©ÁöÑÁõ∏ÂÖ≥Êìç‰Ωú.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


    <footer class="page-footer bg-color center-align">
    <div class="container row center-align">
        <div class="copy-right">
            &copy; 2020 NaixinZhang. All Rights Reserved.
        </div>
    </div>
</footer>


    <!-- ÊêúÁ¥¢ÈÅÆÁΩ©Ê°Ü -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- ÂõûÂà∞È°∂ÈÉ®ÊåâÈíÆ -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <script type="text/javascript"> var OriginTitile = document.title, st; document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Œ£(„Å£ ¬∞–î ¬∞;)„Å£ÂñîÂìüÔºåÂ¥©Ê∫ÉÂï¶ÔºÅ", clearTimeout(st)) : (document.title = "œÜ(„Çú‚ñΩ„Çú*)‚ô™Âí¶ÔºåÂèàÂ•Ω‰∫ÜÔºÅ", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) })
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', '');
</script>



    
    <script src="/libs/others/clicklove.js"></script>
    

    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    <!-- Èõ™Ëä±ÁâπÊïà -->
    

</body>

</html>