<!DOCTYPE HTML>
<html lang="en">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="CS301_Proj9, Naixin&#39;s blog">
    <meta name="baidu-site-verification" content>
    <meta name="google-site-verification" content>
    <meta name="360-site-verification" content>
    <meta name="description" content="CS301_Proj9IntroductionIn this project, you’ll be analyzing a collection of reviews of Amazon products (adapted from htt">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>CS301_Proj9 | Naixin&#39;s blog</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?46e79e71af0709a5b9106bf20cecc493";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body>

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Naixin's blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <span>Home</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <span>Learning notes</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <span>About</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <span>Courses</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/contact" class="waves-effect waves-light">
            
            <span>Contact</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="Search"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Naixin's blog</div>
        <div class="logo-desc">
            
            You never lose, you either win or learn.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                Home
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                Learning notes
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                About
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                Courses
            </a>
        </li>
        
        <li>
            <a href="/contact" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                Contact
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/naixinzhang" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/naixinzhang" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/17.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        CS301_Proj9
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                        <a href="/tags/CS301-Data-Programming-I/" target="_blank">
                            <span class="chip bg-color">CS301 Data Programming I</span>
                        </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                        <a href="/categories/CS301Proj/" class="post-category" target="_blank">
                            CS301Proj
                        </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2019-11-30
                </div>

                <div class="post-author info-break-policy">
                    <i class="fa fa-user-o fa-fw"></i>Author:&nbsp;&nbsp;
                    
                    Naixin Zhang
                    
                </div>

                
                
                <div class="info-break-policy">
                    <i class="fa fa-file-word-o fa-fw"></i>Word Count:&nbsp;&nbsp;
                    6k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="fa fa-clock-o fa-fw"></i>Read Times:&nbsp;&nbsp;
                    37 Min
                </div>
                
                

                
                <div id="busuanzi_container_page_pv" class="info-break-policy">
                    <i class="fa fa-eye fa-fw"></i>Read Count:&nbsp;&nbsp;
                    <span id="busuanzi_value_page_pv"></span>
                </div>
                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="CS301-Proj9"><a href="#CS301-Proj9" class="headerlink" title="CS301_Proj9"></a>CS301_Proj9</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>In this project, you’ll be analyzing a collection of reviews of Amazon products (adapted from <a href="https://www.kaggle.com/datafiniti/consumer-reviews-of-amazon-products/data" target="_blank" rel="noopener">https://www.kaggle.com/datafiniti/consumer-reviews-of-amazon-products/data</a>).
This data is messy!  You’ll face the following challenges:</p>
<ul>
<li>data is spread across multiple files</li>
<li>some files will be CSVs, others JSONs</li>
<li>the files may be missing values or be too corrupt to parse</li>
</ul>
<p>In stage 1, you’ll write code to cleanup the data, representing
everything as Review objects (you’ll create a new type for these).  In
stage 2, you’ll analyze your clean data.</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#project: p9</span>
<span class="token comment" spellcheck="true">#submitter: naixinzhang</span>
<span class="token comment" spellcheck="true">#partner: none</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">import</span> os<span class="token punctuation">,</span> json<span class="token punctuation">,</span> csv
<span class="token keyword">from</span> collections <span class="token keyword">import</span> namedtuple
<span class="token keyword">from</span> collections <span class="token keyword">import</span> defaultdict
<span class="token keyword">import</span> operator
<span class="token keyword">import</span> statistics
<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
<span class="token keyword">import</span> numpy
<span class="token operator">%</span>matplotlib inline<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q1 What are the names of the files present in the data directory?</span>
<span class="token keyword">def</span> <span class="token function">get_names</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> name <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token operator">not</span> name<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>name<span class="token punctuation">)</span> 
    <span class="token keyword">return</span> sorted<span class="token punctuation">(</span>res<span class="token punctuation">,</span> reverse <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>

get_names<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[&#39;sample_reviews.json&#39;,
 &#39;sample_reviews.csv&#39;,
 &#39;review5.json&#39;,
 &#39;review5.csv&#39;,
 &#39;review4.json&#39;,
 &#39;review4.csv&#39;,
 &#39;review3.json&#39;,
 &#39;review3.csv&#39;,
 &#39;review2.json&#39;,
 &#39;review2.csv&#39;,
 &#39;review1.json&#39;,
 &#39;review1.csv&#39;,
 &#39;products.json&#39;]</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q2 What are the paths of all the files in the data directory?</span>
<span class="token keyword">def</span> <span class="token function">get_path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> name <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
        res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>path<span class="token punctuation">)</span>
    <span class="token keyword">return</span> sorted<span class="token punctuation">(</span>res<span class="token punctuation">,</span> reverse <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
get_path<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[&#39;data\\sample_reviews.json&#39;,
 &#39;data\\sample_reviews.csv&#39;,
 &#39;data\\review5.json&#39;,
 &#39;data\\review5.csv&#39;,
 &#39;data\\review4.json&#39;,
 &#39;data\\review4.csv&#39;,
 &#39;data\\review3.json&#39;,
 &#39;data\\review3.csv&#39;,
 &#39;data\\review2.json&#39;,
 &#39;data\\review2.csv&#39;,
 &#39;data\\review1.json&#39;,
 &#39;data\\review1.csv&#39;,
 &#39;data\\products.json&#39;]</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q3 What are the paths of all the CSV files present in data directory?</span>
<span class="token keyword">def</span> <span class="token function">get_path_end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> name <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> name<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">'.csv'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>path<span class="token punctuation">)</span> 
    <span class="token keyword">return</span> sorted<span class="token punctuation">(</span>res<span class="token punctuation">,</span> reverse <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
get_path_end<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[&#39;data\\sample_reviews.csv&#39;,
 &#39;data\\review5.csv&#39;,
 &#39;data\\review4.csv&#39;,
 &#39;data\\review3.csv&#39;,
 &#39;data\\review2.csv&#39;,
 &#39;data\\review1.csv&#39;]</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q4 What are the paths of all the files present in data directory, that begin with the phrase 'review'?</span>
<span class="token keyword">def</span> <span class="token function">get_path_re</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> name <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> name<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'review'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>path<span class="token punctuation">)</span>
    <span class="token keyword">return</span> sorted<span class="token punctuation">(</span>res<span class="token punctuation">,</span> reverse <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
get_path_re<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[&#39;data\\review5.json&#39;,
 &#39;data\\review5.csv&#39;,
 &#39;data\\review4.json&#39;,
 &#39;data\\review4.csv&#39;,
 &#39;data\\review3.json&#39;,
 &#39;data\\review3.csv&#39;,
 &#39;data\\review2.json&#39;,
 &#39;data\\review2.csv&#39;,
 &#39;data\\review1.json&#39;,
 &#39;data\\review1.csv&#39;]</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">read_json</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">:</span>
    f <span class="token operator">=</span> open<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>
    json_str <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>
    f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> json<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>json_str<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q5 What are the products in products.json?</span>
read_json<span class="token punctuation">(</span><span class="token string">'products.json'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>{&#39;B00QFQRELG&#39;: &#39;Amazon 9W PowerFast Official OEM USB Charger and Power Adapter for Fire Tablets and Kindle eReaders&#39;,
 &#39;B01BH83OOM&#39;: &#39;Amazon Tap Smart Assistant Alexa enabled (black) Brand New&#39;,
 &#39;B00ZV9PXP2&#39;: &#39;All-New Kindle E-reader - Black, 6&quot; Glare-Free Touchscreen Display, Wi-Fi - Includes Special Offers&#39;,
 &#39;B0751RGYJV&#39;: &#39;Amazon Echo (2nd Generation) Smart Assistant Oak Finish Priority Shipping&#39;,
 &#39;B00IOY8XWQ&#39;: &#39;Kindle Voyage E-reader, 6 High-Resolution Display (300 ppi) with Adaptive Built-in Light, PagePress Sensors, Wi-Fi - Includes Special Offers&#39;,
 &#39;B0752151W6&#39;: &#39;All-new Echo (2nd Generation) with improved sound, powered by Dolby, and a new design Walnut Finish&#39;,
 &#39;B018Y226XO&#39;: &#39;Fire Kids Edition Tablet, 7 Display, Wi-Fi, 16 GB, Pink Kid-Proof Case&#39;,
 &#39;B01ACEKAJY&#39;: &#39;All-New Fire HD 8 Tablet, 8 HD Display, Wi-Fi, 32 GB - Includes Special Offers, Black&#39;,
 &#39;B01AHB9CYG&#39;: &#39;All-New Fire HD 8 Tablet, 8 HD Display, Wi-Fi, 32 GB - Includes Special Offers, Magenta&#39;,
 &#39;B01AHB9CN2&#39;: &#39;All-New Fire HD 8 Tablet, 8 HD Display, Wi-Fi, 16 GB - Includes Special Offers, Magenta&#39;,
 &#39;B00VINDBJK&#39;: &#39;Kindle Oasis E-reader with Leather Charging Cover - Merlot, 6 High-Resolution Display (300 ppi), Wi-Fi - Includes Special Offers&#39;,
 &#39;B01AHB9C1E&#39;: &#39;Fire HD 8 Tablet with Alexa, 8 HD Display, 32 GB, Tangerine - with Special Offers&#39;,
 &#39;B018Y229OU&#39;: &#39;Fire Tablet, 7 Display, Wi-Fi, 8 GB - Includes Special Offers, Magenta&#39;}</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">read_csv</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    f <span class="token operator">=</span> open<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span>
    reader <span class="token operator">=</span> csv<span class="token punctuation">.</span>DictReader<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
    <span class="token keyword">return</span> reader<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">get_review</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">:</span>
    reader <span class="token operator">=</span> read_csv<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
    <span class="token keyword">for</span> row <span class="token keyword">in</span> reader<span class="token punctuation">:</span>
        <span class="token keyword">if</span> row<span class="token punctuation">[</span><span class="token string">'review id'</span><span class="token punctuation">]</span> <span class="token operator">==</span> id<span class="token punctuation">:</span>
            <span class="token keyword">return</span> row<span class="token punctuation">[</span><span class="token string">'review text'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q6 What is the review text of review with id 1410?</span>
get_review<span class="token punctuation">(</span><span class="token string">'1410'</span><span class="token punctuation">,</span><span class="token string">'review1.csv'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>&#39;It does what it is suppose to. No problems with it...&#39;</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q7 What is the review text of review with id 69899?</span>
<span class="token keyword">def</span> <span class="token function">get_revi</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>col<span class="token punctuation">)</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> name <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> name<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'review'</span><span class="token punctuation">)</span> <span class="token operator">and</span> name<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">'.csv'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>name<span class="token punctuation">)</span> 
    re <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> data <span class="token keyword">in</span> res<span class="token punctuation">:</span>
        reader <span class="token operator">=</span> read_csv<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        <span class="token keyword">for</span> row <span class="token keyword">in</span> reader<span class="token punctuation">:</span>
            <span class="token keyword">if</span> row<span class="token punctuation">[</span><span class="token string">'review id'</span><span class="token punctuation">]</span> <span class="token operator">==</span> id<span class="token punctuation">:</span>
                <span class="token keyword">return</span> row<span class="token punctuation">[</span>col<span class="token punctuation">]</span>
get_revi<span class="token punctuation">(</span><span class="token string">'69899'</span><span class="token punctuation">,</span><span class="token string">'review text'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>&#39;I hate amazon app store. Nothing good in there. The tablet is too slow for what I do... it is good for reading only....&#39;</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q8 What is the review title of review id 28013?</span>
get_revi<span class="token punctuation">(</span><span class="token string">'28013'</span><span class="token punctuation">,</span><span class="token string">'review title'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>&#39;Perfection&#39;</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q9 What file contained the review with that id?</span>
<span class="token keyword">def</span> <span class="token function">get_data</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>col<span class="token punctuation">)</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> name <span class="token keyword">in</span> os<span class="token punctuation">.</span>listdir<span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> name<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">'review'</span><span class="token punctuation">)</span> <span class="token operator">and</span> name<span class="token punctuation">.</span>endswith<span class="token punctuation">(</span><span class="token string">'.csv'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>name<span class="token punctuation">)</span> 
    re <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> data <span class="token keyword">in</span> res<span class="token punctuation">:</span>
        reader <span class="token operator">=</span> read_csv<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
        <span class="token keyword">for</span> row <span class="token keyword">in</span> reader<span class="token punctuation">:</span>
            <span class="token keyword">if</span> row<span class="token punctuation">[</span><span class="token string">'review id'</span><span class="token punctuation">]</span> <span class="token operator">==</span> id<span class="token punctuation">:</span>
                <span class="token keyword">return</span> data
get_data<span class="token punctuation">(</span><span class="token string">'28013'</span><span class="token punctuation">,</span><span class="token string">'review title'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>&#39;review3.csv&#39;</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q10 What is the data stored in sample_reviews.json?</span>
read_json<span class="token punctuation">(</span><span class="token string">'sample_reviews.json'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>{&#39;10101&#39;: [&#39;Mikey123456789&#39;, &#39;B00QFQRELG&#39;],
 &#39;99904&#39;: [&#39;diamond&#39;, &#39;B00QFQRELG&#39;],
 &#39;89604&#39;: [&#39;Pat91&#39;, &#39;B00QFQRELG&#39;],
 &#39;58704&#39;: [&#39;Frank&#39;, &#39;B00QFQRELG&#39;],
 &#39;38104&#39;: [&#39;LADYD92&#39;, &#39;B00QFQRELG&#39;]}</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">get_reviews</span><span class="token punctuation">(</span>csvfile<span class="token punctuation">,</span>jsonfile<span class="token punctuation">)</span><span class="token punctuation">:</span>
    c <span class="token operator">=</span> read_csv<span class="token punctuation">(</span>csvfile<span class="token punctuation">)</span>
    re <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    Review <span class="token operator">=</span> namedtuple<span class="token punctuation">(</span><span class="token string">'Review'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'username'</span><span class="token punctuation">,</span> <span class="token string">'asin'</span><span class="token punctuation">,</span><span class="token string">'title'</span><span class="token punctuation">,</span><span class="token string">'text'</span><span class="token punctuation">,</span><span class="token string">'rating'</span><span class="token punctuation">,</span><span class="token string">'do_recommend'</span><span class="token punctuation">,</span><span class="token string">'num_helpful'</span><span class="token punctuation">,</span><span class="token string">'date'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> row <span class="token keyword">in</span> c<span class="token punctuation">:</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> row<span class="token punctuation">[</span><span class="token string">'review id'</span><span class="token punctuation">]</span><span class="token operator">!=</span> None <span class="token operator">and</span> row<span class="token punctuation">[</span><span class="token string">'review title'</span><span class="token punctuation">]</span><span class="token operator">!=</span>None <span class="token operator">and</span> row<span class="token punctuation">[</span><span class="token string">'review text'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> None <span class="token operator">and</span> row<span class="token punctuation">[</span><span class="token string">'review rating'</span><span class="token punctuation">]</span> <span class="token operator">!=</span>None <span class="token operator">and</span> row<span class="token punctuation">[</span><span class="token string">'review do_recommend'</span><span class="token punctuation">]</span><span class="token operator">!=</span>None <span class="token operator">and</span> row<span class="token punctuation">[</span><span class="token string">'review num_helpful'</span><span class="token punctuation">]</span> <span class="token operator">!=</span> None <span class="token operator">and</span> row<span class="token punctuation">[</span><span class="token string">'review date'</span><span class="token punctuation">]</span><span class="token operator">!=</span>None<span class="token punctuation">:</span>
                review <span class="token operator">=</span> Review<span class="token punctuation">(</span>id <span class="token operator">=</span> int<span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">'review id'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>username<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span>asin<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">,</span>title<span class="token operator">=</span>str<span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">'review title'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>text<span class="token operator">=</span>str<span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">'review text'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rating<span class="token operator">=</span>int<span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">'review rating'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>do_recommend<span class="token operator">=</span>eval<span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">'review do_recommend'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>num_helpful <span class="token operator">=</span> int<span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">'review num_helpful'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>date<span class="token operator">=</span>str<span class="token punctuation">(</span>row<span class="token punctuation">[</span><span class="token string">'review date'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                re<span class="token punctuation">.</span>append<span class="token punctuation">(</span>review<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span> 
                <span class="token keyword">continue</span>
        <span class="token keyword">except</span> ValueError<span class="token punctuation">:</span>
            <span class="token keyword">continue</span> 
    j <span class="token operator">=</span> read_json<span class="token punctuation">(</span>jsonfile<span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> j<span class="token punctuation">:</span>
        <span class="token keyword">for</span> num <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>re<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> re<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">.</span>id <span class="token operator">==</span> int<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">:</span>
                <span class="token keyword">try</span><span class="token punctuation">:</span> 
                    <span class="token keyword">if</span> j<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!=</span>None <span class="token operator">and</span> j<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">!=</span> None<span class="token punctuation">:</span>
                        re<span class="token punctuation">[</span>num<span class="token punctuation">]</span> <span class="token operator">=</span> re<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">.</span>_replace<span class="token punctuation">(</span>username <span class="token operator">=</span> str<span class="token punctuation">(</span>j<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>asin<span class="token operator">=</span>str<span class="token punctuation">(</span>j<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token keyword">else</span><span class="token punctuation">:</span>
                        <span class="token keyword">continue</span>
                <span class="token keyword">except</span> ValueError<span class="token punctuation">:</span>
                    <span class="token keyword">continue</span> 
    <span class="token keyword">return</span> re<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q11 What is produced by your function get_reviews('sample_reviews.csv', 'sample_reviews.json')?</span>
get_reviews<span class="token punctuation">(</span><span class="token string">'sample_reviews.csv'</span><span class="token punctuation">,</span> <span class="token string">'sample_reviews.json'</span><span class="token punctuation">)</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>[Review(id=10101, username=&#39;Mikey123456789&#39;, asin=&#39;B00QFQRELG&#39;, title=&#39;A charger&#39;, text=&#39;It seems to work just like any other usb plug in charger.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2017-01-02&#39;),
 Review(id=99904, username=&#39;diamond&#39;, asin=&#39;B00QFQRELG&#39;, title=&#39;amazon power fast usb charger&#39;, text=&#39;got this for my kindle 7 tablet . Does an excellent job charging the kindle fire 7 a lot faster than the one it came with the kindle fire&#39;, rating=5, do_recommend=True, num_helpful=2, date=&#39;2016-06-03&#39;),
 Review(id=89604, username=&#39;Pat91&#39;, asin=&#39;B00QFQRELG&#39;, title=&#39;Amazon powerfast wall charger&#39;, text=&#39;Best kindle charger ever. Took 30 minutes to being my kindle back to life.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-11-21&#39;),
 Review(id=58704, username=&#39;Frank&#39;, asin=&#39;B00QFQRELG&#39;, title=&#39;correct plug for kindle&#39;, text=&#39;Quickly charges kindle so son can use it. Worked great right out of the package&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-10-14&#39;),
 Review(id=38104, username=&#39;LADYD92&#39;, asin=&#39;B00QFQRELG&#39;, title=&#39;Fast Charger&#39;, text=&#39;Bought this charger for the Kindle voyage and its great.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-09-30&#39;)]</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q12 What are the first ten Review objects in the list produced by get_reviews('review1.csv', 'review1.json')?</span>
<span class="token keyword">def</span> <span class="token function">get_first_ten_rows</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    data <span class="token operator">=</span> get_reviews<span class="token punctuation">(</span><span class="token string">'review1.csv'</span><span class="token punctuation">,</span> <span class="token string">'review1.json'</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> res
get_first_ten_rows<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[Review(id=10101, username=&#39;Mikey123456789&#39;, asin=&#39;B00QFQRELG&#39;, title=&#39;A charger&#39;, text=&#39;It seems to work just like any other usb plug in charger.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2017-01-02&#39;),
 Review(id=99904, username=&#39;diamond&#39;, asin=&#39;B00QFQRELG&#39;, title=&#39;amazon power fast usb charger&#39;, text=&#39;got this for my kindle 7 tablet . Does an excellent job charging the kindle fire 7 a lot faster than the one it came with the kindle fire&#39;, rating=5, do_recommend=True, num_helpful=2, date=&#39;2016-06-03&#39;),
 Review(id=89604, username=&#39;Pat91&#39;, asin=&#39;B00QFQRELG&#39;, title=&#39;Amazon powerfast wall charger&#39;, text=&#39;Best kindle charger ever. Took 30 minutes to being my kindle back to life.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-11-21&#39;),
 Review(id=58704, username=&#39;Frank&#39;, asin=&#39;B00QFQRELG&#39;, title=&#39;correct plug for kindle&#39;, text=&#39;Quickly charges kindle so son can use it. Worked great right out of the package&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-10-14&#39;),
 Review(id=38104, username=&#39;LADYD92&#39;, asin=&#39;B00QFQRELG&#39;, title=&#39;Fast Charger&#39;, text=&#39;Bought this charger for the Kindle voyage and its great.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-09-30&#39;),
 Review(id=76407, username=&#39;RobT&#39;, asin=&#39;B00QFQRELG&#39;, title=&#39;Good charger&#39;, text=&#39;This wall charger works exactly as described for the Kindle Paperwhite.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-07-22&#39;),
 Review(id=83810, username=&#39;Iodine&#39;, asin=&#39;B00QFQRELG&#39;, title=&#39;Great item&#39;, text=&#39;Have been using this item and it seems to be working quite well.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2017-03-15&#39;),
 Review(id=32310, username=&#39;Akki&#39;, asin=&#39;B00QFQRELG&#39;, title=&#39;Nice one&#39;, text=&#39;Good one and working without any issues. Slim and portable&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-06-24&#39;),
 Review(id=22010, username=&#39;STRIPYGOOSE&#39;, asin=&#39;B00QFQRELG&#39;, title=&#39;not any faster&#39;, text=&#39;it does not charge any faster than regular charger.&#39;, rating=3, do_recommend=False, num_helpful=0, date=&#39;2016-08-18&#39;),
 Review(id=1410, username=&#39;Jk60&#39;, asin=&#39;B00QFQRELG&#39;, title=&#39;Satisfied&#39;, text=&#39;It does what it is suppose to. No problems with it...&#39;, rating=4, do_recommend=True, num_helpful=0, date=&#39;2016-12-07&#39;)]</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q13 What are the last ten Review objects in the list produced by get_reviews('review2.csv', 'review2.json')?</span>
get_reviews<span class="token punctuation">(</span><span class="token string">'review2.csv'</span><span class="token punctuation">,</span> <span class="token string">'review2.json'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>[Review(id=25136, username=&#39;Angrydagg&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;Nice features for the price.&#39;, text=&#39;For the price this tables does everything I need. so far.&#39;, rating=4, do_recommend=True, num_helpful=0, date=&#39;2015-12-30&#39;),
 Review(id=84039, username=&#39;Appman2015&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;Great for xmas&#39;, text=&#39;So far I have bought three of these of tablets and they love it&#39;, rating=4, do_recommend=True, num_helpful=1, date=&#39;2015-12-30&#39;),
 Review(id=22239, username=&#39;SuzieQ&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;great for pre teens&#39;, text=&#39;i am glad i got them for my grand children they r enjoying them&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2015-12-31&#39;),
 Review(id=70842, username=&#39;Gracie&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;Great kindle&#39;, text=&#39;Purchase was good. Very easy to set up and use. Clear screen. Easy to charge. Would like more storage.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2015-12-31&#39;),
 Review(id=60542, username=&#39;Jeremyjeepster&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;Good entry level tablet reader.&#39;, text=&#39;His is a very economical entry level tablet. Great for kids or for first time users.&#39;, rating=4, do_recommend=True, num_helpful=0, date=&#39;2015-12-31&#39;),
 Review(id=9042, username=&#39;kinglowe78&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;Good Deal&#39;, text=&#39;Real good deal. Nice present for those who want a tablet&#39;, rating=4, do_recommend=True, num_helpful=1, date=&#39;2016-01-01&#39;),
 Review(id=98845, username=&#39;jamal&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;good basic&#39;, text=&#39;Good gift for basic Internet use browsing emails .&#39;, rating=3, do_recommend=True, num_helpful=1, date=&#39;2016-01-01&#39;),
 Review(id=37045, username=&#39;CaOk&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;decent budget tablet that does what it suppose to&#39;, text=&#39;Nothing fancy. A good budget tablet that does what It suppose to do&#39;, rating=4, do_recommend=True, num_helpful=0, date=&#39;2016-01-01&#39;),
 Review(id=26745, username=&#39;Tablet2&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;Affordable tablet&#39;, text=&#39;Bought tablet for my five year old nephew. Is affordable and has good specs. Easy to use. Camera and video are good. My nephew has no problem using it&#39;, rating=4, do_recommend=True, num_helpful=0, date=&#39;2016-01-01&#39;),
 Review(id=3248, username=&#39;Tims54913&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;Great tablet&#39;, text=&#39;If your connected to amazon the tablet is great to use.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-01-02&#39;)]</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q14 What is the Review object with review id 84713?</span>
<span class="token keyword">def</span> <span class="token function">get_object</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">:</span>
    data <span class="token operator">=</span> get_reviews<span class="token punctuation">(</span>get_data<span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token string">'review title'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> get_data<span class="token punctuation">(</span>id<span class="token punctuation">,</span><span class="token string">'review title'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">'.json'</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> data<span class="token punctuation">:</span>
        <span class="token keyword">if</span> i<span class="token punctuation">.</span>id <span class="token operator">==</span> int<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> i
get_object<span class="token punctuation">(</span><span class="token string">'84713'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Review(id=84713, username=&#39;mmolly1&#39;, asin=&#39;B01AHB9CN2&#39;, title=&#39;Great product&#39;, text=&#39;This product is very user friendly and it is very lightweight&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2017-01-08&#39;)</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q15 What is the Review object with review id 42931?</span>
get_object<span class="token punctuation">(</span><span class="token string">'42931'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>Review(id=42931, username=&#39;tbistone&#39;, asin=&#39;B01BH83OOM&#39;, title=&#39;Amazing&#39;, text=&#39;I literally use this thing every single day. Love it.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-12-20&#39;)</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q16  List the first ten Review objects in the entire dataset, sorted by increasing order of their review ids.</span>
<span class="token keyword">def</span> <span class="token function">get_entire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        csv_file <span class="token operator">=</span> <span class="token string">'review'</span><span class="token operator">+</span>str<span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'.csv'</span>
        json_file <span class="token operator">=</span> <span class="token string">'review'</span><span class="token operator">+</span>str<span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'.json'</span>          
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            data <span class="token operator">=</span> data <span class="token operator">+</span> get_reviews<span class="token punctuation">(</span>csv_file<span class="token punctuation">,</span>json_file<span class="token punctuation">)</span>
        <span class="token keyword">except</span><span class="token punctuation">:</span>
            <span class="token keyword">continue</span>
    <span class="token keyword">return</span> sorted<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
entire <span class="token operator">=</span> get_entire<span class="token punctuation">(</span><span class="token punctuation">)</span>
entire<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>[Review(id=74, username=&#39;Wayne&#39;, asin=&#39;B01AHB9CN2&#39;, title=&#39;Kindle upgrade&#39;, text=&#39;Gave this to my wife for Christmas. Upgraded from the original Kindle. She thoroughly enjoys it.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-12-31&#39;),
 Review(id=82, username=&#39;KKLORRAINE&#39;, asin=&#39;B01AHB9CN2&#39;, title=&#39;Good&#39;, text=&#39;Great for reading and Netflix. Fits nice in purse. Good price.&#39;, rating=4, do_recommend=True, num_helpful=0, date=&#39;2017-04-07&#39;),
 Review(id=110, username=&#39;nell&#39;, asin=&#39;B00IOY8XWQ&#39;, title=&#39;I love it&#39;, text=&#39;Prefect for all reading conditions and environments. I take it everywhere.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-07-09&#39;),
 Review(id=122, username=&#39;apple21man&#39;, asin=&#39;B01BH83OOM&#39;, title=&#39;A great assistant&#39;, text=&#39;It works well it takes time for it to know your vocabulary&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2017-01-23&#39;),
 Review(id=247, username=&#39;rockydon1&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;great&#39;, text=&#39;The Kindle fire is a great product. Will do so many things. Would recommend to anyone.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2015-12-29&#39;),
 Review(id=251, username=&#39;Cheechu821&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;Great product for its price&#39;, text=&#39;I purchased the tablet as a screen for my drink and it worked just fine&#39;, rating=3, do_recommend=True, num_helpful=0, date=&#39;2016-02-19&#39;),
 Review(id=263, username=&#39;aram58&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;love the tablet&#39;, text=&#39;I would recommend this tablet to anyone that is interested in one. It is just as good as a Samsung one and half the price.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-07-08&#39;),
 Review(id=271, username=&#39;NMGPRO&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;Good little tablet&#39;, text=&#39;I purchased this to have a smaller footprint tablet. Could use more popular apps but still great for keeping the library at the tip of the fingers and a camera to boot.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-01-21&#39;),
 Review(id=275, username=&#39;MikeGA&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;Great for Amazon&#39;, text=&#39;This product is a great entry level tablet. It is limited in both memory and function.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-01-05&#39;),
 Review(id=327, username=&#39;ritter6281&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;Awesome tablet.&#39;, text=&#39;This tablet is better than any other tablet of the same cost range. My son saved up to buy his own tablet and had similar priced tablets break or have software issues. This tablet has a nice quality screen and it is nice to be able to not be forced to do everything through Amazon despite it being an Amazon tablet. The option of a Best Buy replacement plan is handy when getting the tablet for kids.&#39;, rating=5, do_recommend=True, num_helpful=0, date=&#39;2016-04-09&#39;)]</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q17 Output the number of review objects for the product, "Amazon Tap Smart Assistant Alexa enabled (black) Brand New".</span>

<span class="token keyword">def</span> <span class="token function">get_num</span><span class="token punctuation">(</span>sentence<span class="token punctuation">)</span><span class="token punctuation">:</span>
    product <span class="token operator">=</span> read_json<span class="token punctuation">(</span><span class="token string">'products.json'</span><span class="token punctuation">)</span>
    res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> entire<span class="token punctuation">:</span>
        <span class="token keyword">if</span> product<span class="token punctuation">[</span>i<span class="token punctuation">.</span>asin<span class="token punctuation">]</span> <span class="token operator">==</span> sentence<span class="token punctuation">:</span>
            res<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token keyword">return</span> len<span class="token punctuation">(</span>res<span class="token punctuation">)</span>
get_num<span class="token punctuation">(</span><span class="token string">'Amazon Tap Smart Assistant Alexa enabled (black) Brand New'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>165</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q18 Output the number of review objects for the product, "All-New Fire HD 8 Tablet, 8 HD Display, Wi-Fi, 32 GB - Includes Special Offers, Black".</span>
get_num<span class="token punctuation">(</span><span class="token string">'All-New Fire HD 8 Tablet, 8 HD Display, Wi-Fi, 32 GB - Includes Special Offers, Black'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>12</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q19  Find the name of the product with most reviews.</span>
<span class="token keyword">def</span> <span class="token function">get_most_reviews</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    product<span class="token operator">=</span>read_json<span class="token punctuation">(</span><span class="token string">'products.json'</span><span class="token punctuation">)</span>
    pro <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> product<span class="token punctuation">:</span>
        pro<span class="token punctuation">.</span>append<span class="token punctuation">(</span>product<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    max_num <span class="token operator">=</span> <span class="token number">0</span>
    idx <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>pro<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> get_num<span class="token punctuation">(</span>pro<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">></span> max_num<span class="token punctuation">:</span>
            max_num <span class="token operator">=</span> get_num<span class="token punctuation">(</span>pro<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
            idx <span class="token operator">=</span> i
    <span class="token keyword">return</span> pro<span class="token punctuation">[</span>idx<span class="token punctuation">]</span>
get_most_reviews<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>&#39;Fire Tablet, 7 Display, Wi-Fi, 8 GB - Includes Special Offers, Magenta&#39;</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">get_asin</span><span class="token punctuation">(</span>sentence<span class="token punctuation">)</span><span class="token punctuation">:</span>
    product<span class="token operator">=</span>read_json<span class="token punctuation">(</span><span class="token string">'products.json'</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> product<span class="token punctuation">:</span>
        <span class="token keyword">if</span> product<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> sentence<span class="token punctuation">:</span>
            <span class="token keyword">return</span> i<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q20 Find the most helpful review(s) of this product.</span>
<span class="token keyword">def</span> <span class="token function">get_help_review</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    most_help <span class="token operator">=</span> <span class="token number">0</span>
    asin <span class="token operator">=</span> get_asin<span class="token punctuation">(</span>get_most_reviews<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> entire<span class="token punctuation">:</span>
        <span class="token keyword">if</span> i<span class="token punctuation">.</span>asin <span class="token operator">==</span> asin <span class="token operator">and</span> i<span class="token punctuation">.</span>num_helpful <span class="token operator">></span> most_help<span class="token punctuation">:</span>
            most_help <span class="token operator">=</span> i<span class="token punctuation">.</span>num_helpful
    <span class="token keyword">for</span> i <span class="token keyword">in</span> entire<span class="token punctuation">:</span>
        <span class="token keyword">if</span> i<span class="token punctuation">.</span>asin <span class="token operator">==</span> asin <span class="token operator">and</span> i<span class="token punctuation">.</span>num_helpful <span class="token operator">==</span> most_help<span class="token punctuation">:</span>
            <span class="token keyword">return</span> i
get_help_review<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>Review(id=85969, username=&#39;Beninkc&#39;, asin=&#39;B018Y229OU&#39;, title=&#39;5 star device crippled by amazon&#39;, text=&#39;This device would be the best possible tablet for the money if it had Google Play. However Amazon chose to block access to it. This took their well made tablet with a beautiful screen and great performance from an amazing value to a waste of money. This is my last amazon branded product.If you use a lot of apps or want specific apps shop for another device.&#39;, rating=1, do_recommend=False, num_helpful=20, date=&#39;2016-02-14&#39;)</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q21 How many unique usernames appear in the dataset?</span>
<span class="token keyword">def</span> <span class="token function">get_unique_username</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    data <span class="token operator">=</span> entire
    name <span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>username <span class="token operator">not</span> <span class="token keyword">in</span> name<span class="token punctuation">:</span>
            name<span class="token punctuation">.</span>append<span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>username<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">continue</span>
    <span class="token keyword">return</span> len<span class="token punctuation">(</span>name<span class="token punctuation">)</span>
get_unique_username<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>3798</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q22 Who are the top 30 prolific users in this dataset?</span>
<span class="token keyword">def</span> <span class="token function">get_top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    name_reviews <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    data <span class="token operator">=</span> entire
    reviews <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span>list<span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        reviews<span class="token punctuation">[</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>username<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>text<span class="token punctuation">)</span>
    reviews <span class="token operator">=</span> dict<span class="token punctuation">(</span>reviews<span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> reviews<span class="token punctuation">:</span>
        name_reviews<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> len<span class="token punctuation">(</span>reviews<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    sorted_d <span class="token operator">=</span> sorted<span class="token punctuation">(</span>name_reviews<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> key<span class="token operator">=</span>operator<span class="token punctuation">.</span>itemgetter<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>reverse <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
    test_dict <span class="token operator">=</span> dict<span class="token punctuation">(</span>sorted_d<span class="token punctuation">)</span>
    <span class="token keyword">return</span> dict<span class="token punctuation">(</span>list<span class="token punctuation">(</span>test_dict<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
get_top<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>{&#39;Dave&#39;: 5,
 &#39;Steve&#39;: 4,
 &#39;Mike&#39;: 4,
 &#39;1234&#39;: 4,
 &#39;Susan&#39;: 4,
 &#39;Angie&#39;: 4,
 &#39;Chris&#39;: 4,
 &#39;Missy&#39;: 4,
 &#39;Pete&#39;: 3,
 &#39;Anonymous&#39;: 3,
 &#39;Josh&#39;: 3,
 &#39;Charles&#39;: 3,
 &#39;Rick&#39;: 3,
 &#39;Dani&#39;: 3,
 &#39;mike&#39;: 3,
 &#39;Bill&#39;: 3,
 &#39;John&#39;: 3,
 &#39;Jojo&#39;: 3,
 &#39;Kindle&#39;: 3,
 &#39;Bubba&#39;: 3,
 &#39;kcladyz&#39;: 3,
 &#39;Frank&#39;: 3,
 &#39;Grandma&#39;: 3,
 &#39;Mimi&#39;: 3,
 &#39;Richard&#39;: 3,
 &#39;Manny&#39;: 3,
 &#39;Susie&#39;: 3,
 &#39;Charlie&#39;: 3,
 &#39;Michael&#39;: 3,
 &#39;David&#39;: 3}</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q23 Who are the users whose comments have been found helpful at least five times?</span>
<span class="token keyword">def</span> <span class="token function">get_help</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    data <span class="token operator">=</span> entire
    name_help <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    res <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>username <span class="token keyword">in</span> name_help<span class="token punctuation">:</span>
            name_help<span class="token punctuation">[</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>username<span class="token punctuation">]</span> <span class="token operator">+=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num_helpful
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            name_help<span class="token punctuation">[</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>username<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>num_helpful
    <span class="token keyword">for</span> key<span class="token punctuation">,</span>value <span class="token keyword">in</span> name_help<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> value <span class="token operator">>=</span> <span class="token number">5</span><span class="token punctuation">:</span>
            res<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">=</span>value
    <span class="token keyword">return</span> res
get_help<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>{&#39;Ellen&#39;: 10,
 &#39;Earthdog&#39;: 27,
 &#39;fenton&#39;: 6,
 &#39;Dick&#39;: 5,
 &#39;Junior&#39;: 7,
 &#39;AshT&#39;: 5,
 &#39;Stuartc&#39;: 8,
 &#39;safissad&#39;: 8,
 &#39;iMax&#39;: 5,
 &#39;trouble&#39;: 5,
 &#39;Roberto002007&#39;: 7,
 &#39;EricO&#39;: 7,
 &#39;stephfasc22&#39;: 5,
 &#39;LadyEsco702&#39;: 8,
 &#39;Karch&#39;: 5,
 &#39;TerrieT&#39;: 5,
 &#39;mysixpack&#39;: 6,
 &#39;Mark&#39;: 5,
 &#39;Rodge&#39;: 6,
 &#39;Deejay&#39;: 8,
 &#39;FrankW&#39;: 5,
 &#39;Beninkc&#39;: 20,
 &#39;CarlosEA&#39;: 10,
 &#39;1Briansapp&#39;: 5,
 &#39;Quasimodo&#39;: 5,
 &#39;Kime&#39;: 5}</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q24 Find the average rating of each product.</span>
<span class="token keyword">def</span> <span class="token function">rating</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    data <span class="token operator">=</span> entire
    temp <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span>list<span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        temp<span class="token punctuation">[</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>asin<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rating<span class="token punctuation">)</span>
    temp <span class="token operator">=</span> dict<span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
    temp_a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> temp<span class="token punctuation">:</span>
        temp_a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> float<span class="token punctuation">(</span>statistics<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    res <span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    product <span class="token operator">=</span>read_json<span class="token punctuation">(</span><span class="token string">'products.json'</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> product<span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> temp_a<span class="token punctuation">:</span>
            <span class="token keyword">if</span> i <span class="token operator">==</span> j<span class="token punctuation">:</span>
                res<span class="token punctuation">[</span>product<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp_a<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
    <span class="token keyword">return</span> res
rating<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>{&#39;Amazon 9W PowerFast Official OEM USB Charger and Power Adapter for Fire Tablets and Kindle eReaders&#39;: 4.7272727272727275,
 &#39;Amazon Tap Smart Assistant Alexa enabled (black) Brand New&#39;: 4.6909090909090905,
 &#39;All-New Kindle E-reader - Black, 6&quot; Glare-Free Touchscreen Display, Wi-Fi - Includes Special Offers&#39;: 4.590163934426229,
 &#39;Amazon Echo (2nd Generation) Smart Assistant Oak Finish Priority Shipping&#39;: 5.0,
 &#39;Kindle Voyage E-reader, 6 High-Resolution Display (300 ppi) with Adaptive Built-in Light, PagePress Sensors, Wi-Fi - Includes Special Offers&#39;: 4.666666666666667,
 &#39;All-new Echo (2nd Generation) with improved sound, powered by Dolby, and a new design Walnut Finish&#39;: 5.0,
 &#39;Fire Kids Edition Tablet, 7 Display, Wi-Fi, 16 GB, Pink Kid-Proof Case&#39;: 4.603448275862069,
 &#39;All-New Fire HD 8 Tablet, 8 HD Display, Wi-Fi, 32 GB - Includes Special Offers, Black&#39;: 4.583333333333333,
 &#39;All-New Fire HD 8 Tablet, 8 HD Display, Wi-Fi, 32 GB - Includes Special Offers, Magenta&#39;: 4.574468085106383,
 &#39;All-New Fire HD 8 Tablet, 8 HD Display, Wi-Fi, 16 GB - Includes Special Offers, Magenta&#39;: 4.6,
 &#39;Kindle Oasis E-reader with Leather Charging Cover - Merlot, 6 High-Resolution Display (300 ppi), Wi-Fi - Includes Special Offers&#39;: 4.866666666666666,
 &#39;Fire HD 8 Tablet with Alexa, 8 HD Display, 32 GB, Tangerine - with Special Offers&#39;: 3.8333333333333335,
 &#39;Fire Tablet, 7 Display, Wi-Fi, 8 GB - Includes Special Offers, Magenta&#39;: 4.490408673894913}</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">scatter</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> xlabel<span class="token operator">=</span><span class="token string">"please label me!"</span><span class="token punctuation">,</span> ylabel<span class="token operator">=</span><span class="token string">"please label me!"</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">"x"</span><span class="token punctuation">:</span>x<span class="token punctuation">,</span> <span class="token string">"y"</span><span class="token punctuation">:</span>y<span class="token punctuation">}</span><span class="token punctuation">)</span>
    ax <span class="token operator">=</span> df<span class="token punctuation">.</span>plot<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token string">"x"</span><span class="token punctuation">,</span> y<span class="token operator">=</span><span class="token string">"y"</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">"black"</span><span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">,</span> xlim<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span> ylim<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>set_xlabel<span class="token punctuation">(</span>xlabel<span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>set_ylabel<span class="token punctuation">(</span>ylabel<span class="token punctuation">,</span> fontsize<span class="token operator">=</span><span class="token number">16</span><span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>get_xaxis<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get_major_formatter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_scientific<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span>
    ax<span class="token punctuation">.</span>get_yaxis<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>get_major_formatter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>set_scientific<span class="token punctuation">(</span><span class="token boolean">False</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q25 What is the relationship between the number of reviews and the average rating of a product?</span>
<span class="token keyword">def</span> <span class="token function">get_rating</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    data <span class="token operator">=</span> entire
    temp <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span>list<span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        temp<span class="token punctuation">[</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>asin<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rating<span class="token punctuation">)</span>
    temp <span class="token operator">=</span> dict<span class="token punctuation">(</span>temp<span class="token punctuation">)</span>
    temp_rating <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> temp<span class="token punctuation">:</span>
        temp_rating<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> float<span class="token punctuation">(</span>statistics<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> temp_rating
<span class="token keyword">def</span> <span class="token function">get_num_reviews</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    data <span class="token operator">=</span> entire
    temp_num_reviews <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>asin <span class="token operator">not</span> <span class="token keyword">in</span> temp_num_reviews<span class="token punctuation">:</span>
            temp_num_reviews<span class="token punctuation">[</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>asin<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            temp_num_reviews<span class="token punctuation">[</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>asin<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> temp_num_reviews

x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
y <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
temp_rating <span class="token operator">=</span> get_rating<span class="token punctuation">(</span><span class="token punctuation">)</span>
temp_num_reviews <span class="token operator">=</span> get_num_reviews<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> temp_rating<span class="token punctuation">:</span>
    x<span class="token punctuation">.</span>append<span class="token punctuation">(</span>temp_rating<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> j <span class="token keyword">in</span> temp_num_reviews<span class="token punctuation">:</span>
    y<span class="token punctuation">.</span>append<span class="token punctuation">(</span>temp_num_reviews<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>
scatter<span class="token punctuation">(</span>y<span class="token punctuation">,</span>x<span class="token punctuation">,</span>xlabel<span class="token operator">=</span><span class="token string">"Number of reviews"</span><span class="token punctuation">,</span> ylabel<span class="token operator">=</span><span class="token string">"Average rating"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="output_32_0.png" alt="png"></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q26 Remove the outliers from the last plot.</span>
temp_rating <span class="token operator">=</span> get_rating<span class="token punctuation">(</span><span class="token punctuation">)</span>
temp_num_reviews <span class="token operator">=</span> get_num_reviews<span class="token punctuation">(</span><span class="token punctuation">)</span>
res <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> temp_rating<span class="token punctuation">:</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> temp_num_reviews<span class="token punctuation">:</span>
        <span class="token keyword">if</span> i <span class="token operator">==</span> j<span class="token punctuation">:</span>
            res<span class="token punctuation">[</span>temp_rating<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp_num_reviews<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
elements <span class="token operator">=</span> numpy<span class="token punctuation">.</span>array<span class="token punctuation">(</span>y<span class="token punctuation">)</span>
mean <span class="token operator">=</span> numpy<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>elements<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
sd <span class="token operator">=</span> numpy<span class="token punctuation">.</span>std<span class="token punctuation">(</span>elements<span class="token punctuation">,</span> axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>
final_list <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> y <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">></span> mean <span class="token operator">-</span> <span class="token number">2</span> <span class="token operator">*</span> sd<span class="token punctuation">)</span><span class="token punctuation">]</span>
final_list <span class="token operator">=</span> <span class="token punctuation">[</span>x <span class="token keyword">for</span> x <span class="token keyword">in</span> final_list <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">175</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
re <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> j <span class="token keyword">in</span> final_list<span class="token punctuation">:</span>
    <span class="token keyword">for</span> key<span class="token punctuation">,</span>value <span class="token keyword">in</span> res<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> value <span class="token operator">==</span> j<span class="token punctuation">:</span>
            re<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
x_new <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> re<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    x_new<span class="token punctuation">.</span>append<span class="token punctuation">(</span>i<span class="token punctuation">)</span>
y_new <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> j <span class="token keyword">in</span> re<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    y_new<span class="token punctuation">.</span>append<span class="token punctuation">(</span>j<span class="token punctuation">)</span>
scatter<span class="token punctuation">(</span>y_new<span class="token punctuation">,</span>x_new<span class="token punctuation">,</span>xlabel<span class="token operator">=</span><span class="token string">"Number of reviews"</span><span class="token punctuation">,</span> ylabel<span class="token operator">=</span><span class="token string">"Average rating"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="output_33_0.png" alt="png"></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">bucketize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    data <span class="token operator">=</span> entire
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rating <span class="token keyword">in</span> res<span class="token punctuation">:</span>
            res<span class="token punctuation">[</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rating<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            res<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>rating<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> res

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q27 What is the relationship between the rating and the average text length?</span>
bucket<span class="token operator">=</span>bucketize<span class="token punctuation">(</span><span class="token punctuation">)</span>
text_dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> obj <span class="token keyword">in</span> bucket<span class="token punctuation">:</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> bucket<span class="token punctuation">[</span>obj<span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> obj <span class="token keyword">in</span> text_dict<span class="token punctuation">:</span>
            text_dict<span class="token punctuation">[</span>obj<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>len<span class="token punctuation">(</span>item<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            text_dict<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>len<span class="token punctuation">(</span>item<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>
text_dict
res <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> rate <span class="token keyword">in</span> text_dict<span class="token punctuation">:</span>
    res<span class="token punctuation">[</span>rate<span class="token punctuation">]</span> <span class="token operator">=</span> sum<span class="token punctuation">(</span>text_dict<span class="token punctuation">[</span>rate<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span>len<span class="token punctuation">(</span>text_dict<span class="token punctuation">[</span>rate<span class="token punctuation">]</span><span class="token punctuation">)</span>
res
x<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
y<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span> res<span class="token punctuation">:</span>
    x<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    y<span class="token punctuation">.</span>append<span class="token punctuation">(</span>res<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span>
scatter<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>xlabel<span class="token operator">=</span><span class="token string">"Rating"</span><span class="token punctuation">,</span> ylabel<span class="token operator">=</span><span class="token string">"Average text length"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="output_35_0.png" alt="png"></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q28 What is the relationship between the rating and the likelihood of the review being helpful?</span>
bucket<span class="token operator">=</span>bucketize<span class="token punctuation">(</span><span class="token punctuation">)</span>
review <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> obj <span class="token keyword">in</span> bucket<span class="token punctuation">:</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> bucket<span class="token punctuation">[</span>obj<span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> obj <span class="token keyword">in</span> review<span class="token punctuation">:</span>
            review<span class="token punctuation">[</span>obj<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">.</span>num_helpful<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            review<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">.</span>num_helpful<span class="token punctuation">)</span>
te <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> review<span class="token punctuation">:</span>
    te<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> len<span class="token punctuation">(</span>review<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
temp <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> review<span class="token punctuation">:</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> review<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> j <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> i <span class="token keyword">in</span> temp<span class="token punctuation">:</span>
                temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>j<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                temp<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>j<span class="token punctuation">)</span>
t <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> temp<span class="token punctuation">:</span>
    t<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> len<span class="token punctuation">(</span>temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
res <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> a <span class="token keyword">in</span> te<span class="token punctuation">:</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> t<span class="token punctuation">:</span>
        <span class="token keyword">if</span> a <span class="token operator">==</span> j<span class="token punctuation">:</span>
            res<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> t<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">/</span>te<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
x<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
y<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span> res<span class="token punctuation">:</span>
    x<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    y<span class="token punctuation">.</span>append<span class="token punctuation">(</span>res<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span>
scatter<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>xlabel<span class="token operator">=</span><span class="token string">"Rating"</span><span class="token punctuation">,</span> ylabel<span class="token operator">=</span><span class="token string">"Percentage of helpful reviews"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="output_36_0.png" alt="png"></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q29 What is the average rating of all reviews which recommend the corresponding products?</span>
<span class="token keyword">def</span> <span class="token function">get_avg_rating</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    bucket<span class="token operator">=</span>bucketize<span class="token punctuation">(</span><span class="token punctuation">)</span>
    recommend <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> obj <span class="token keyword">in</span> bucket<span class="token punctuation">:</span>
        <span class="token keyword">for</span> item <span class="token keyword">in</span> bucket<span class="token punctuation">[</span>obj<span class="token punctuation">]</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> item<span class="token punctuation">.</span>do_recommend <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
                <span class="token keyword">if</span> obj <span class="token keyword">in</span> recommend<span class="token punctuation">:</span>
                    recommend<span class="token punctuation">[</span>obj<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">.</span>do_recommend<span class="token punctuation">)</span>
                <span class="token keyword">else</span><span class="token punctuation">:</span>
                    recommend<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">.</span>do_recommend<span class="token punctuation">)</span>
    temp <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> recommend<span class="token punctuation">:</span>
        temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> len<span class="token punctuation">(</span>recommend<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    denominator <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> key <span class="token keyword">in</span> temp<span class="token punctuation">:</span>
        denominator <span class="token operator">+=</span> temp<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
    numerator <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> key<span class="token punctuation">,</span>value <span class="token keyword">in</span> temp<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        numerator <span class="token operator">+=</span> key <span class="token operator">*</span> value
    <span class="token keyword">return</span> numerator<span class="token operator">/</span>denominator
get_avg_rating<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>4.607549120992761</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q30 What is the relationship between the rating and the likelihood of the product being recommended?</span>
bucket<span class="token operator">=</span>bucketize<span class="token punctuation">(</span><span class="token punctuation">)</span>
recommend <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> obj <span class="token keyword">in</span> bucket<span class="token punctuation">:</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> bucket<span class="token punctuation">[</span>obj<span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> item<span class="token punctuation">.</span>do_recommend <span class="token operator">==</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> obj <span class="token keyword">in</span> recommend<span class="token punctuation">:</span>
                recommend<span class="token punctuation">[</span>obj<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">.</span>do_recommend<span class="token punctuation">)</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                recommend<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">.</span>do_recommend<span class="token punctuation">)</span>
temp <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> recommend<span class="token punctuation">:</span>
    temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> len<span class="token punctuation">(</span>recommend<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
all <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> obj <span class="token keyword">in</span> bucket<span class="token punctuation">:</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> bucket<span class="token punctuation">[</span>obj<span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> obj <span class="token keyword">in</span> all<span class="token punctuation">:</span>
            all<span class="token punctuation">[</span>obj<span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">.</span>do_recommend<span class="token punctuation">)</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            all<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">.</span>do_recommend<span class="token punctuation">)</span>
tem <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> i <span class="token keyword">in</span> all<span class="token punctuation">:</span>
    tem<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> len<span class="token punctuation">(</span>all<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
tem
res<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">for</span> a <span class="token keyword">in</span> temp<span class="token punctuation">:</span>
    <span class="token keyword">for</span> j <span class="token keyword">in</span> tem<span class="token punctuation">:</span>
        <span class="token keyword">if</span> a <span class="token operator">==</span> j<span class="token punctuation">:</span>
            res<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">/</span>tem<span class="token punctuation">[</span>j<span class="token punctuation">]</span>
x<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
y<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> item <span class="token keyword">in</span> res<span class="token punctuation">:</span>
    x<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">)</span>
    y<span class="token punctuation">.</span>append<span class="token punctuation">(</span>res<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span>
scatter<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>xlabel<span class="token operator">=</span><span class="token string">"Rating"</span><span class="token punctuation">,</span> ylabel<span class="token operator">=</span><span class="token string">"Percentage of helpful reviews"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="output_38_0.png" alt="png"></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q31 Which words appear most commonly in the text of reviews with rating 5. List only the words that appear more than 1000 times.</span>
<span class="token keyword">def</span> <span class="token function">get_commonly_text</span><span class="token punctuation">(</span>rate<span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    bucket <span class="token operator">=</span> bucketize<span class="token punctuation">(</span><span class="token punctuation">)</span>
    tex <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> bucket<span class="token punctuation">[</span>rate<span class="token punctuation">]</span><span class="token punctuation">:</span>
        tex<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">.</span>text<span class="token punctuation">)</span>
    res <span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> tex<span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> item<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> j <span class="token keyword">in</span> res<span class="token punctuation">:</span>
                res<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                res<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    out <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> word <span class="token keyword">in</span> res<span class="token punctuation">:</span>
        <span class="token keyword">if</span> res<span class="token punctuation">[</span>word<span class="token punctuation">]</span><span class="token operator">></span>num<span class="token punctuation">:</span>
            out<span class="token punctuation">[</span>word<span class="token punctuation">]</span> <span class="token operator">=</span> res<span class="token punctuation">[</span>word<span class="token punctuation">]</span>
    <span class="token keyword">return</span> out

get_commonly_text<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>{&#39;this&#39;: 1016,
 &#39;to&#39;: 1442,
 &#39;my&#39;: 1146,
 &#39;for&#39;: 1800,
 &#39;the&#39;: 1740,
 &#39;and&#39;: 1818,
 &#39;i&#39;: 1317,
 &#39;it&#39;: 1286,
 &#39;a&#39;: 1134}</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q32 Which words appear most commonly in the title of reviews with rating 5. List only the words that appear more than 100 times.</span>
<span class="token keyword">def</span> <span class="token function">get_commonly_title</span><span class="token punctuation">(</span>rate<span class="token punctuation">,</span>num<span class="token punctuation">)</span><span class="token punctuation">:</span>
    bucket <span class="token operator">=</span> bucketize<span class="token punctuation">(</span><span class="token punctuation">)</span>
    tex <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> bucket<span class="token punctuation">[</span>rate<span class="token punctuation">]</span><span class="token punctuation">:</span>
        tex<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">.</span>title<span class="token punctuation">)</span>
    res <span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> tex<span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> item<span class="token punctuation">.</span>lower<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">if</span> j <span class="token keyword">in</span> res<span class="token punctuation">:</span>
                res<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
            <span class="token keyword">else</span><span class="token punctuation">:</span>
                res<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span>
    out <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> word <span class="token keyword">in</span> res<span class="token punctuation">:</span>
        <span class="token keyword">if</span> res<span class="token punctuation">[</span>word<span class="token punctuation">]</span><span class="token operator">></span>num<span class="token punctuation">:</span>
            out<span class="token punctuation">[</span>word<span class="token punctuation">]</span> <span class="token operator">=</span> res<span class="token punctuation">[</span>word<span class="token punctuation">]</span>
    <span class="token keyword">return</span> out
get_commonly_title<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>{&#39;kindle&#39;: 142,
 &#39;love&#39;: 158,
 &#39;it&#39;: 137,
 &#39;a&#39;: 143,
 &#39;great&#39;: 1093,
 &#39;the&#39;: 231,
 &#39;tablet&#39;: 681,
 &#39;good&#39;: 212,
 &#39;for&#39;: 617,
 &#39;awesome&#39;: 108,
 &#39;kids&#39;: 132,
 &#39;gift&#39;: 105,
 &#39;fire&#39;: 104,
 &#39;price&#39;: 149,
 &#39;product&#39;: 179,
 &#39;my&#39;: 138,
 &#39;to&#39;: 106}</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q33 Which words appear most commonly in the title of reviews with rating 1. List only the words that appear more than once.</span>
get_commonly_title<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>{&#39;poor&#39;: 2,
 &#39;tablet&#39;: 4,
 &#39;a&#39;: 5,
 &#39;great&#39;: 2,
 &#39;very&#39;: 3,
 &#39;disappointed&#39;: 2,
 &#39;use&#39;: 2,
 &#39;amazon&#39;: 5,
 &#39;not&#39;: 8,
 &#39;good&#39;: 2,
 &#39;5&#39;: 2,
 &#39;for&#39;: 2,
 &#39;with&#39;: 2,
 &#39;work&#39;: 2,
 &#39;really&#39;: 2,
 &#39;to&#39;: 2,
 &#39;and&#39;: 2,
 &#39;kindle&#39;: 2,
 &#39;does&#39;: 2}</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q34 Which words appear most commonly in the title of reviews with rating 3 List only the words that appear more than 10 times.</span>
get_commonly_title<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>{&#39;great&#39;: 37,
 &#39;for&#39;: 60,
 &#39;price&#39;: 18,
 &#39;ok&#39;: 18,
 &#39;tablet&#39;: 51,
 &#39;the&#39;: 18,
 &#39;good&#39;: 42,
 &#39;not&#39;: 13,
 &#39;a&#39;: 17}</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">get_path</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>
    file_path_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token keyword">for</span> root<span class="token punctuation">,</span>dirs<span class="token punctuation">,</span>files <span class="token keyword">in</span> os<span class="token punctuation">.</span>walk<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> files<span class="token punctuation">:</span>
            <span class="token keyword">for</span> file <span class="token keyword">in</span> files<span class="token punctuation">:</span>
                    file_path_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>root<span class="token punctuation">,</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> sorted<span class="token punctuation">(</span>file_path_list<span class="token punctuation">,</span>reverse <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q35 List the paths in the helpful directory of rating5 of broken_file.</span>
path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'broken_file'</span><span class="token punctuation">,</span><span class="token string">'rating5'</span><span class="token punctuation">,</span><span class="token string">'helpful'</span><span class="token punctuation">)</span>
get_path<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre><code>[&#39;broken_file\\rating5\\helpful\\helpful.json&#39;]</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q36 List the paths of all the files in the rating4 directory of broken_file.</span>
path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'broken_file'</span><span class="token punctuation">,</span><span class="token string">'rating4'</span><span class="token punctuation">)</span>
get_path<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre><code>[&#39;broken_file\\rating4\\very_helpful\\very_helpful.json&#39;,
 &#39;broken_file\\rating4\\others\\short\\short.json&#39;,
 &#39;broken_file\\rating4\\others\\others\\others.json&#39;,
 &#39;broken_file\\rating4\\not_helpful.json&#39;]</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q37  List the paths of all the files in the broken_file directory.</span>
path <span class="token operator">=</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token string">'broken_file'</span><span class="token punctuation">)</span>
get_path<span class="token punctuation">(</span>path<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre><code>[&#39;broken_file\\rating5\\others.json&#39;,
 &#39;broken_file\\rating5\\helpful\\helpful.json&#39;,
 &#39;broken_file\\rating4\\very_helpful\\very_helpful.json&#39;,
 &#39;broken_file\\rating4\\others\\short\\short.json&#39;,
 &#39;broken_file\\rating4\\others\\others\\others.json&#39;,
 &#39;broken_file\\rating4\\not_helpful.json&#39;,
 &#39;broken_file\\rating3\\others\\others.json&#39;,
 &#39;broken_file\\rating3\\long\\long.json&#39;,
 &#39;broken_file\\others.json&#39;]</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q38  Combine all the files in broken_file and find the number of unique products being reviewed in these files.</span>
<span class="token keyword">def</span> <span class="token function">read_broken_json</span><span class="token punctuation">(</span>filepath<span class="token punctuation">)</span><span class="token punctuation">:</span>
    f <span class="token operator">=</span> open<span class="token punctuation">(</span>filepath<span class="token punctuation">,</span> encoding <span class="token operator">=</span> <span class="token string">"utf-8"</span><span class="token punctuation">)</span>
    reader <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span>
    f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> reader
<span class="token keyword">def</span> <span class="token function">get_product</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    all_path<span class="token operator">=</span>get_path<span class="token punctuation">(</span>path<span class="token punctuation">)</span>
    broken_files <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> 
    <span class="token keyword">for</span> file <span class="token keyword">in</span> all_path<span class="token punctuation">:</span>
        broken_files<span class="token punctuation">.</span>append<span class="token punctuation">(</span>read_broken_json<span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span>
    complete_list_broken_file <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">for</span> files <span class="token keyword">in</span> broken_files<span class="token punctuation">:</span>
        <span class="token keyword">for</span> file <span class="token keyword">in</span> files<span class="token punctuation">:</span>
            complete_list_broken_file<span class="token punctuation">[</span>file<span class="token punctuation">]</span> <span class="token operator">=</span> files<span class="token punctuation">[</span>file<span class="token punctuation">]</span>
    complete_list_broken_file
    list_broken_csv <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    review4 <span class="token operator">=</span> read_csv<span class="token punctuation">(</span><span class="token string">'review4.csv'</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> row <span class="token keyword">in</span> review4<span class="token punctuation">:</span>
        list_broken_csv<span class="token punctuation">.</span>append<span class="token punctuation">(</span>dict<span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">)</span>
    list_broken_csv 

    list_broken_review_object <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    Review <span class="token operator">=</span> namedtuple<span class="token punctuation">(</span><span class="token string">"Review"</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">"id"</span><span class="token punctuation">,</span> <span class="token string">"username"</span><span class="token punctuation">,</span><span class="token string">"asin"</span><span class="token punctuation">,</span> <span class="token string">"title"</span><span class="token punctuation">,</span> <span class="token string">"text"</span><span class="token punctuation">,</span> <span class="token string">"rating"</span><span class="token punctuation">,</span> <span class="token string">"do_recommend"</span><span class="token punctuation">,</span> <span class="token string">"num_helpful"</span><span class="token punctuation">,</span> <span class="token string">"date"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span>len<span class="token punctuation">(</span>list_broken_csv<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 
        boolean <span class="token operator">=</span> <span class="token boolean">False</span>
        <span class="token keyword">if</span> list_broken_csv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"review do_recommend"</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">"True"</span><span class="token punctuation">:</span>
            boolean <span class="token operator">=</span> <span class="token boolean">True</span>
        broken_review <span class="token operator">=</span> Review<span class="token punctuation">(</span>int<span class="token punctuation">(</span>list_broken_csv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"review id"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                           complete_list_broken_file<span class="token punctuation">[</span>list_broken_csv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"review id"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                           complete_list_broken_file<span class="token punctuation">[</span>list_broken_csv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"review id"</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                           list_broken_csv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"review title"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                           list_broken_csv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"review text"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                           int<span class="token punctuation">(</span>list_broken_csv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"review rating"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                           boolean<span class="token punctuation">,</span>
                           int<span class="token punctuation">(</span>list_broken_csv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"review num_helpful"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                           list_broken_csv<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"review date"</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        list_broken_review_object<span class="token punctuation">.</span>append<span class="token punctuation">(</span>broken_review<span class="token punctuation">)</span>  
    <span class="token keyword">return</span> list_broken_review_object
<span class="token keyword">def</span> <span class="token function">get_num_product</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    list_unique_products <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    list_broken_review_object <span class="token operator">=</span> get_product<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> review <span class="token keyword">in</span> list_broken_review_object<span class="token punctuation">:</span>
        list_unique_products<span class="token punctuation">.</span>append<span class="token punctuation">(</span>review<span class="token punctuation">.</span>asin<span class="token punctuation">)</span>
    <span class="token keyword">return</span> len<span class="token punctuation">(</span>set<span class="token punctuation">(</span>list_unique_products<span class="token punctuation">)</span><span class="token punctuation">)</span>
get_num_product<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>1</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q39 Combine all the files in the directories data and broken_file, and find the total number of reviews.</span>
<span class="token keyword">def</span> <span class="token function">get_num</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    stage1_data <span class="token operator">=</span> entire
    stage2_data<span class="token operator">=</span> get_product<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> len<span class="token punctuation">(</span>stage1_data<span class="token punctuation">)</span> <span class="token operator">+</span> len<span class="token punctuation">(</span>stage2_data<span class="token punctuation">)</span>
get_num<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>4992</code></pre><pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true">#q40 What is the percentage of change in the average rating changed for the product 'Fire Tablet, 7 Display, Wi-Fi, 8 GB - Includes Special Offers, Magenta', because of the addition of the new data?</span>
<span class="token keyword">def</span> <span class="token function">get_origin_avg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    products <span class="token operator">=</span> read_json<span class="token punctuation">(</span><span class="token string">"products.json"</span><span class="token punctuation">)</span>
    total_grades <span class="token operator">=</span> <span class="token number">0</span>
    n <span class="token operator">=</span> <span class="token number">0</span>
    entire <span class="token operator">=</span> get_entire<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> review <span class="token keyword">in</span> entire<span class="token punctuation">:</span>
        <span class="token keyword">if</span> products<span class="token punctuation">[</span>review<span class="token punctuation">.</span>asin<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'Fire Tablet, 7 Display, Wi-Fi, 8 GB - Includes Special Offers, Magenta'</span><span class="token punctuation">:</span>
            total_grades <span class="token operator">+=</span> review<span class="token punctuation">.</span>rating
            n <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> total_grades <span class="token operator">/</span> n
<span class="token keyword">def</span> <span class="token function">get_after_avg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    products <span class="token operator">=</span> read_json<span class="token punctuation">(</span><span class="token string">"products.json"</span><span class="token punctuation">)</span>
    total_grades <span class="token operator">=</span> <span class="token number">0</span>
    n <span class="token operator">=</span> <span class="token number">0</span>
    entire <span class="token operator">=</span> get_entire<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> review <span class="token keyword">in</span> entire<span class="token punctuation">:</span>
        <span class="token keyword">if</span> products<span class="token punctuation">[</span>review<span class="token punctuation">.</span>asin<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'Fire Tablet, 7 Display, Wi-Fi, 8 GB - Includes Special Offers, Magenta'</span><span class="token punctuation">:</span>
            total_grades <span class="token operator">+=</span> review<span class="token punctuation">.</span>rating
            n <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token comment" spellcheck="true">#add broken files</span>
    broken <span class="token operator">=</span> get_product<span class="token punctuation">(</span><span class="token punctuation">)</span> 
    <span class="token keyword">for</span> review <span class="token keyword">in</span> broken<span class="token punctuation">:</span>
        <span class="token keyword">if</span> products<span class="token punctuation">[</span>review<span class="token punctuation">.</span>asin<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'Fire Tablet, 7 Display, Wi-Fi, 8 GB - Includes Special Offers, Magenta'</span><span class="token punctuation">:</span>
            total_grades <span class="token operator">+=</span> review<span class="token punctuation">.</span>rating
            n <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> total_grades <span class="token operator">/</span> n

<span class="token punctuation">(</span><span class="token punctuation">(</span>get_after_avg<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> get_origin_avg<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> get_origin_avg<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>0.31190229022053717</code></pre>
            </div>
            <hr />

            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone, qq, weibo, douban"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            


        </div>
    </div>

    
    <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: 'c090019fe3f06f8ef15d',
        clientSecret: '9f220a5e71efc340544fce7ae397f63151db8747',
        repo: 'naixinzhang.github.io',
        owner: 'naixinzhang',
        admin: "naixinzhang",
        id: '2019/11/30/cs301/cs301-proj9/',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>
    

    

    

    

    
    <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments input[type=text],
    #vcomments input[type=email],
    #vcomments input[type=url],
    #vcomments textarea {
        box-sizing: border-box;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #42b983;
        font-weight: 500;
        text-decoration: underline;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div id="vcomments" class="card-content"></div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<!-- <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script> -->

<script>
    new Valine({
        el: '#vcomments',
        appId: '',
        appKey: '',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'false' === 'true',
        avatar: 'wavatar',
        pageSize: '10',
        lang: 'en',
        placeholder: '如果你没有GitHub账号，还可以在这里评论啦！'
    });
</script>

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2019/12/15/cs301/cs301-proj10/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/7.jpg" class="responsive-img" alt="CS301_Proj10">
                        
                        <span class="card-title">CS301_Proj10</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            CS301_Proj10IntroductionFor your final CS 301 project, you’re going to analyze the whole
world!
Specifically, you’re goi
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2019-12-15
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/CS301Proj/" class="post-category" target="_blank">
                                    CS301Proj
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/CS301-Data-Programming-I/" target="_blank">
                        <span class="chip bg-color">CS301 Data Programming I</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2019/11/23/cs301/cs301-proj8/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/18.jpg" class="responsive-img" alt="CS301_Proj8">
                        
                        <span class="card-title">CS301_Proj8</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            CS301_Proj8IntroductionHaving worked our way through soccer and hurricanes, we are now going
to work on the IMDB Movies 
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2019-11-23
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/CS301Proj/" class="post-category" target="_blank">
                                    CS301Proj
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/CS301-Data-Programming-I/" target="_blank">
                        <span class="chip bg-color">CS301 Data Programming I</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


    <footer class="page-footer bg-color center-align">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            &copy; 2020 NaixinZhang. All Rights Reserved.
        </div>
    </div>
</footer>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <script type="text/javascript"> var OriginTitile = document.title, st; document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) })
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', '');
</script>



    
    <script src="/libs/others/clicklove.js"></script>
    

    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    <!-- 雪花特效 -->
    

</body>

</html>