<!DOCTYPE HTML>
<html lang="en">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="SQL_leetcode_database, Naixin&#39;s blog">
    <meta name="baidu-site-verification" content>
    <meta name="google-site-verification" content>
    <meta name="360-site-verification" content>
    <meta name="description" content="*175. 
SELECT Person.FirstName, Person.LastName, Address.City, Address.State
FROM Person
LEFT JOIN Address
ON Person.Per">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>SQL_leetcode_database | Naixin&#39;s blog</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?46e79e71af0709a5b9106bf20cecc493";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body>

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">Naixin's blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <span>Home</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <span>Learning notes</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <span>About</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <span>Courses</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/contact" class="waves-effect waves-light">
            
            <span>Contact</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="Search"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">Naixin's blog</div>
        <div class="logo-desc">
            
            You never lose, you either win or learn.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                Home
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                Learning notes
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                About
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                Courses
            </a>
        </li>
        
        <li>
            <a href="/contact" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-link"></i>
                
                Contact
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/naixinzhang" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/naixinzhang" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/23.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        SQL_leetcode_database
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                        <a href="/tags/SQL-Learning-notes/" target="_blank">
                            <span class="chip bg-color">SQL Learning notes</span>
                        </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                        <a href="/categories/SQL/" class="post-category" target="_blank">
                            SQL
                        </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2020-02-15
                </div>

                <div class="post-author info-break-policy">
                    <i class="fa fa-user-o fa-fw"></i>Author:&nbsp;&nbsp;
                    
                    Naixin Zhang
                    
                </div>

                
                
                <div class="info-break-policy">
                    <i class="fa fa-file-word-o fa-fw"></i>Word Count:&nbsp;&nbsp;
                    4k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="fa fa-clock-o fa-fw"></i>Read Times:&nbsp;&nbsp;
                    24 Min
                </div>
                
                

                
                <div id="busuanzi_container_page_pv" class="info-break-policy">
                    <i class="fa fa-eye fa-fw"></i>Read Count:&nbsp;&nbsp;
                    <span id="busuanzi_value_page_pv"></span>
                </div>
                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>*175. </p>
<pre><code>SELECT Person.FirstName, Person.LastName, Address.City, Address.State
FROM Person
LEFT JOIN Address
ON Person.PersonID = Address.PersonID</code></pre><p>176.</p>
<pre><code>SELECT (
  SELECT DISTINCT Salary FROM Employee 
  ORDER BY Salary DESC
  LIMIT 1,1
)as SecondHighestSalary </code></pre><p>notes: </p>
<ul>
<li>limit y 分句表示: 读取 y 条数据</li>
<li>limit x, y 分句表示: 跳过 x 条数据，读取 y 条数据</li>
<li>limit y offset x 分句表示: 跳过 x 条数据，读取 y 条数据</li>
</ul>
<p>177.</p>
<pre><code>CREATE FUNCTION getNthHighestSalary(N INT) RETURNS INT
BEGIN
DECLARE M INT;
SET M=N-1;
  RETURN (
      SELECT DISTINCT Salary FROM Employee ORDER BY Salary DESC LIMIT M, 1
  );
END</code></pre><p>NOTES:
MUST use declare and set in this case</p>
<p>178.
MySQL Solution:</p>
<pre><code>SELECT S.Score, COUNT(S2.Score) AS Rank FROM Scores S,
(SELECT DISTINCT Score FROM Scores) S2
WHERE S.Score&lt;=S2.Score
GROUP BY S.Id 
ORDER BY S.Score DESC;</code></pre><p>MS SQL Solution</p>
<pre><code>SELECT Score, DENSE_RANK() OVER (ORDER BY Score DESC) AS Rank
FROM Scores</code></pre><p>180.
Assume the id is consecutive: 1,2,3</p>
<pre><code>SELECT DISTINCT l1.Num AS ConsecutiveNums
FROM Logs l1, Logs l2,Logs l3
WHERE l1.Id + 1 = l2.Id AND l2.Id + 1 = l3.Id
AND l1.Num = l2.Num AND l2.Num = l3.Num</code></pre><pre><code>select distinct Num as ConsecutiveNums
from Logs
where (Id + 1, Num) in (select * from Logs) and (Id + 2, Num) in (select * from Logs)</code></pre><p>181.</p>
<pre><code>SELECT a.Name AS Employee 
FROM Employee a
JOIN Employee b
ON a.ManagerId = b.Id
AND a.Salary &gt; b.Salary</code></pre><p>182.</p>
<pre><code>SELECT Email
FROM Person
GROUP BY Email
Having count(Email) &gt; 1</code></pre><p>183.</p>
<pre><code>SELECT Customers.Name AS Customers
FROM Customers 
WHERE Customers.id NOT IN 
(SELECT CustomerId FROM Orders)</code></pre><p>184.</p>
<pre><code>SELECT d.Name AS &#39;Department&#39;, e.Name AS &#39;Employee&#39;,e.Salary FROM Employee e
JOIN Department d
ON e.DepartmentId = d.Id
WHERE
 (DepartmentId,Salary) IN (
     SELECT DepartmentId, Max(Salary)
     FROM Employee
     GROUP BY DepartmentId
 )</code></pre><p>185.</p>
<pre><code>SELECT d.Name AS &#39;Department&#39;, e1.Name AS &#39;Employee&#39;,e1.Salary FROM Employee e1
JOIN Department d
ON e1.DepartmentId = d.Id
WHERE 3 &gt; (
 SELECT COUNT(DISTINCT e2.Salary)
 FROM Employee e2
 WHERE e2.Salary &gt; e1.Salary AND e1.DepartmentId = e2.DepartmentId
)</code></pre><pre><code>SELECT d.Name AS Department, a. Name as Employee, a. Salary 
FROM (
SELECT e.*, DENSE_RANK() OVER (PARTITION BY DepartmentId ORDER BY Salary DESC) AS DeptPayRank 
FROM Employee e 
) a 
JOIN Department d
ON a. DepartmentId = d. Id 
WHERE DeptPayRank &lt;=3</code></pre><p>196.</p>
<pre><code>DELETE p1 FROM Person p1,
    Person p2
WHERE
    p1.Email = p2.Email AND p1.Id &gt; p2.Id</code></pre><p>197.</p>
<pre><code>SELECT w1.Id
FROM weather w0, weather w1
WHERE DATEDIFF(w1.recorddate, w0.recorddate) = 1 and w0.temperature &lt; w1.temperature</code></pre><p>262.</p>
<pre><code>SELECT Request_at as Day,
       ROUND(COUNT(IF(Status != &#39;completed&#39;, TRUE, NULL)) / COUNT(*), 2) AS &#39;Cancellation Rate&#39;
FROM Trips
WHERE (Request_at BETWEEN &#39;2013-10-01&#39; AND &#39;2013-10-03&#39;)
      AND Client_id NOT IN (SELECT Users_Id FROM Users WHERE Banned = &#39;Yes&#39;)
GROUP BY Request_at;</code></pre><p>511.</p>
<pre><code>SELECT player_id,MIN(event_date)AS first_login
FROM Activity
GROUP BY player_id</code></pre><p>512.</p>
<pre><code>select player_id, device_id 
from activity 
where (player_id, event_date) in (
                                select player_id, min(event_date)
                                from activity 
                                group by player_id
                                 ) </code></pre><p>534.</p>
<pre><code>SELECT
player_id, event_date, sum(games_played) over(PARTITION BY player_id ORDER BY event_date)
AS &#39;games_played_so_far&#39;
FROM activity
ORDER BY player_id, games_played_so_far;</code></pre><pre><code>SELECT a1.player_id, a1.event_date,
SUM(a2.games_played) AS games_played_so_far
FROM activity a1, activity a2
WHERE a1.player_id = a2.player_id
AND a1.event_date &gt;=a2.event_date
GROUP BY a1.player_id, a1.event_date
ORDER BY a1.player_id, a1.event_date;</code></pre><p>550.</p>
<pre><code>SELECT ROUND(COUNT(t2.player_id)/COUNT(t1.player_id),2) AS fraction
FROM (
    SELECT player_id, MIN(event_date) AS first_login FROM Activity GROUP BY player_id
) t1
LEFT JOIN Activity t2
ON t1.player_id = t2.player_id AND t1.first_login = t2.event_date - 1</code></pre><p>569.</p>
<pre><code>SELECT MIN(A.Id) AS Id, A.Company, A.Salary
FROM Employee A, Employee B
WHERE A.Company = B.Company
GROUP BY A.Company, A.Salary
HAVING SUM(CASE WHEN B.Salary &gt;= A.Salary THEN 1 ELSE 0 END) &gt;= COUNT(*)/2
AND SUM(CASE WHEN B.Salary &lt;= A.Salary THEN 1 ELSE 0 END) &gt;= COUNT(*)/2</code></pre><p>570.</p>
<pre><code>SELECT Name FROM Employee
WHERE Id IN 
(SELECT ManagerId FROM Employee GROUP BY ManagerId HAVING COUNT(ManagerId) &gt;=5)</code></pre><p>571.(HARD)</p>
<pre><code>SELECT AVG(n1.Number) AS median
FROM Numbers n1
JOIN (
    SELECT n3.Number,
    ABS(SUM(CASE WHEN n3.Number &gt; n4.Number THEN n4.Frequency ELSE 0 END) - 
        SUM(CASE WHEN n3.Number &lt; n4.Number THEN n4.Frequency ELSE 0 END))
    AS Diff
    FROM Numbers n3, Numbers n4 #为什么inner join不对？
    GROUP BY n3.Number
     ) n2
ON n1.Number =n2.Number
WHERE n1.Frequency &gt;= n2.Diff</code></pre><p>LOGIC:比它大的数的频数和与比它小的数的频数和的差需要落在中位数的频数里
NUM, FREQ, DIFF
0,7,7
1,1,3
2,3,7
3,11</p>
<p>574.</p>
<pre><code>SELECT Name FROM Candidate
WHERE id = (
SELECT CandidateId FROM Vote 
GROUP BY CandidateID
ORDER BY COUNT(id) DESC
LIMIT 1
)</code></pre><p>*577.</p>
<pre><code>SELECT e.name, b.bonus 
FROM Employee e
LEFT JOIN Bonus b
ON e.empId = b.empId
WHERE b.bonus &lt; 1000 OR b.bonus IS NULL</code></pre><p>578.</p>
<pre><code>SELECT question_id AS survey_log
FROM(
    SELECT question_id,
    SUM(CASE WHEN action = &#39;answer&#39; THEN 1 ELSE 0 END)
    /
    SUM(CASE WHEN action = &#39;show&#39; THEN 1 ELSE 0 END) AS rate
    FROM survey_log
    GROUP BY question_id
    ) tem
ORDER BY rate DESC 
LIMIT 1</code></pre><p>579.</p>
<pre><code>SELECT e1.ID,e1.Month, Sum(e2.Salary) As Salary FROM Employee e1
JOIN Employee e2
ON e1.ID = e2.ID and e1.Month &gt;= e2.Month
WHERE(e1.ID, e1.Month) NOT IN (SELECT Id, MAX(Month) FROM Employee GROUP BY Id)
      AND e1.Month - e2.Month &lt; 3
GROUP BY e1.Id, e1.Month
ORDER BY e1.ID, e1.Month DESC</code></pre><pre><code>SELECT Id, Month, SUM(Salary) OVER(PARTITION BY Id ORDER BY Month ROWS BETWEEN 2 PRECEDING AND CURRENT ROW) AS Salary
FROM 
(SELECT Id, Month, Salary, MAX(Month) OVER(PARTITION BY Id) AS recent_month
FROM Employee) sub
WHERE sub.Month != recent_month
ORDER BY Id, Month DESC</code></pre><p>reference for windows function: <a href="https://blog.csdn.net/huozhicheng/article/details/5843782" target="_blank" rel="noopener">https://blog.csdn.net/huozhicheng/article/details/5843782</a></p>
<p>580.</p>
<pre><code>SELECT d.dept_name, COUNT(student_id) AS student_number FROM
student s
RIGHT JOIN department d
ON d.dept_id = s.dept_id
GROUP BY d.dept_id
ORDER BY student_number DESC,d.dept_name</code></pre><p>*584.</p>
<pre><code>SELECT name FROM customer
WHERE referee_id != 2 OR referee_id IS NULL</code></pre><p>585.</p>
<pre><code>SELECT SUM(TIV_2016) AS TIV_2016
FROM insurance
WHERE TIV_2015 IN (
    SELECT TIV_2015 FROM insurance
    GROUP BY TIV_2015
    HAVING COUNT(*) &gt; 1
) AND CONCAT(LAT,CONCAT(,LON)) IN(
    SELECT CONCATE(LAT,CONCATE(,LON)) FROM insurance
    GROUP BY LAT,LON
    HAVING COUNT(*) = 1
)</code></pre><p>586.</p>
<pre><code>SELECT customer_number
FROM orders
GROUP BY customer_number
ORDER BY COUNT(*) DESC
LIMIT 1</code></pre><p>*595</p>
<pre><code>SELECT
    name, population, area
FROM
    world
WHERE
    area &gt; 3000000 OR population &gt; 25000000</code></pre><p>*596</p>
<pre><code>SELECT class
FROM courses
GROUP BY class
HAVING COUNT(DISTINCT student) &gt;= 5</code></pre><p>597</p>
<pre><code>SELECT 
ROUND(
    IFNULL(
    (SELECT COUNT(distinct requester_id, accepter_id) FROM request_accepted)
    /
    (SELECT COUNT(distinct sender_id, send_to_id) FROM friend_request),
    0)
, 2) AS accept_rate</code></pre><p>601</p>
<pre><code>SELECT DISTINCT S1.*
FROM stadium S1
JOIN stadium S2
JOIN stadium S3
ON ((S1.id = S2.id - 1 AND S1.id = S3.id -2) # s1,s2,s3 
OR (S3.id = S1.id - 1 AND S3.id = S2.id -2)  # s3,s1,s2
OR (S3.id = S2.id - 1 AND S3.id = S1.id -2)) # s3,s2,s1
WHERE S1.people &gt;= 100
AND S2.people &gt;= 100
AND S3.people &gt;= 100
ORDER BY S1.id;</code></pre><p>Notes:Considering t1, t2 and t3 are identical, we can take one of them to consider what conditions we should add to filter the data and get the final result. Taking t1 for example, it could exist in the beginning of the consecutive 3 days, or the middle, or the last.</p>
<p>603.</p>
<pre><code>SELECT DISTINCT a.seat_id
FROM cinema a
JOIN cinema b 
ON 
ABS(a.seat_id - b.seat_id) = 1
WHERE a.free = 1 AND b.free = 1
ORDER BY a.seat_id;</code></pre><p>607</p>
<pre><code>SELECT
    s.name
FROM
    salesperson s
WHERE
    s.sales_id NOT IN 
        (SELECT
            o.sales_id
        FROM
            orders o
                LEFT JOIN
            company c ON o.com_id = c.com_id
        WHERE
            c.name = &#39;RED&#39;)</code></pre><p>610</p>
<pre><code>SELECT 
    x,
    y,
    z,
    CASE
        WHEN x + y &gt; z AND x + z &gt; y AND y + z &gt; x THEN &#39;Yes&#39;
        ELSE &#39;No&#39;
    END AS &#39;triangle&#39;
FROM
    triangle</code></pre><p>613.</p>
<pre><code>SELECT
    MIN(ABS(p1.x - p2.x)) AS shortest
FROM point p1
JOIN point p2 
ON p1.x != p2.x</code></pre><p>619</p>
<pre><code>SELECT IFNULL(
    (SELECT num
     FROM my_numbers
     GROUP BY 1
     HAVING COUNT(*) = 1
     ORDER BY num DESC
     LIMIT 1)
,NULL) AS num</code></pre><p>620</p>
<pre><code>select *
from cinema
where mod(id, 2) = 1 and description != &#39;boring&#39;
order by rating DESC</code></pre><p>627</p>
<pre><code>UPDATE salary
SET sex = 
        CASE sex
        WHEN &#39;m&#39; THEN &#39;f&#39;
        ELSE &#39;m&#39;
        END</code></pre><p>1050</p>
<pre><code>select actor_id, director_id 
from actordirector 
group by actor_id, director_id 
having count(*) &gt;= 3</code></pre><p>*1086</p>
<pre><code>select
p.product_name,
s.year,
s.price
from sales s
join product p
on s.product_id = p.product_id;</code></pre><p>*1069</p>
<pre><code>select product_id, sum(quantity) total_quantity from sales group by product_id;</code></pre><p>*1075</p>
<pre><code>SELECT p.project_id, ROUND(avg(e.experience_years),2) AS average_years
        FROM Project p
        JOIN Employee e
        ON p.employee_id = e.employee_id
        GROUP BY p.project_id</code></pre><p>*1076</p>
<pre><code>select project_id
from Project p
group by project_id
having count(*) = 
(select count(*) c from Project group by project_id order by c desc limit 1)</code></pre><p>1082</p>
<pre><code>SELECT seller_id
FROM Sales
GROUP BY seller_id
HAVING SUM(price) = (SELECT SUM(price)
                     FROM Sales
                     GROUP BY seller_id
                     ORDER BY 1 DESC
                     LIMIT 1 )</code></pre><p>1083</p>
<pre><code>SELECT s.buyer_id
FROM Sales s
JOIN Product p
ON s.product_id = p.product_id
GROUP BY s.buyer_id
HAVING SUM(p.product_name = &#39;S8&#39;) &gt; 0 AND SUM(p.product_name = &#39;iphone&#39;) = 0</code></pre><p>1084</p>
<pre><code>SELECT product_id, product_name
FROM product
WHERE product_id NOT IN
(SELECT product_id
FROM sales
WHERE sale_date NOT BETWEEN &#39;2019-01-01&#39; AND &#39;2019-03-31&#39;);</code></pre><p>1113</p>
<pre><code>SELECT extra AS report_reason, COUNT(DISTINCT post_id) AS report_count
FROM Actions
WHERE action = &#39;report&#39; AND action_date = &#39;2019-07-04&#39;
GROUP BY extra</code></pre><p>1142</p>
<pre><code>SELECT IFNULL(ROUND(COUNT(DISTINCT session_id)/COUNT(DISTINCT user_id),2),0.00) AS average_sessions_per_user
FROM Activity 
WHERE activity_date &gt;= &#39;2019-06-28&#39; and activity_date &lt;= &#39;2019-07-27&#39;;  </code></pre><p>*1148</p>
<pre><code>SELECT DISTINCT author_id AS id
FROM Views
WHERE author_id = viewer_id
ORDER BY id</code></pre><p>1173</p>
<pre><code>SELECT ROUND( (a.immediate / b.total) * 100.0, 2) AS immediate_percentage FROM
(SELECT COUNT(*) AS immediate FROM delivery WHERE order_date = customer_pref_delivery_date) AS a,
(SELECT COUNT(*) AS total FROM delivery) AS b</code></pre><pre><code>SELECT ROUND(100*AVG(order_date = customer_pref_delivery_date), 2) AS immediate_percentage
FROM Delivery;</code></pre><p>1179</p>
<pre><code>select id, 
    sum(case when month = &#39;jan&#39; then revenue else null end) as Jan_Revenue,
    sum(case when month = &#39;feb&#39; then revenue else null end) as Feb_Revenue,
    sum(case when month = &#39;mar&#39; then revenue else null end) as Mar_Revenue,
    sum(case when month = &#39;apr&#39; then revenue else null end) as Apr_Revenue,
    sum(case when month = &#39;may&#39; then revenue else null end) as May_Revenue,
    sum(case when month = &#39;jun&#39; then revenue else null end) as Jun_Revenue,
    sum(case when month = &#39;jul&#39; then revenue else null end) as Jul_Revenue,
    sum(case when month = &#39;aug&#39; then revenue else null end) as Aug_Revenue,
    sum(case when month = &#39;sep&#39; then revenue else null end) as Sep_Revenue,
    sum(case when month = &#39;oct&#39; then revenue else null end) as Oct_Revenue,
    sum(case when month = &#39;nov&#39; then revenue else null end) as Nov_Revenue,
    sum(case when month = &#39;dec&#39; then revenue else null end) as Dec_Revenue
from department
group by id
order by id</code></pre><p>1211</p>
<pre><code>SELECT 
    query_name,
    ROUND(AVG(rating / position), 2) AS quality,
    ROUND(AVG(rating &lt; 3) * 100, 2) AS poor_query_percentage 
FROM 
    Queries
GROUP BY 
    query_name</code></pre><p>1241</p>
<pre><code>SELECT s.sub_id AS post_id,
(SELECT COUNT(DISTINCT(s1.sub_id)) FROM Submissions s1 WHERE s1.parent_id = s.sub_id) 
AS number_of_comments
FROM Submissions s
WHERE s.parent_id IS null
GROUP BY s.sub_id</code></pre><p>1251</p>
<pre><code>SELECT a.product_id,ROUND(SUM(b.units*a.price)/SUM(b.units),2) as average_price
FROM Prices as a
JOIN UnitsSold as b
ON a.product_id=b.product_id AND (b.purchase_date BETWEEN a.start_date AND a.end_date)
GROUP BY product_id;</code></pre><p>*1350</p>
<pre><code>SELECT s.id, s.name
FROM Students s
WHERE s.department_id NOT in (
SELECT d.id FROM Departments d
)</code></pre><p>1280</p>
<pre><code>SELECT a.student_id,a.student_name,b.subject_name,COUNT(c.subject_name) as attended_exams
FROM Students as a
JOIN Subjects as b
LEFT JOIN Examinations as c
ON a.student_id=c.student_id AND b.subject_name=c.subject_name
GROUP BY a.student_id,b.subject_name;</code></pre><p>1294</p>
<pre><code>SELECT a.country_name,
CASE 
WHEN AVG(weather_state)&lt;=15 THEN &quot;Cold&quot;
WHEN AVG(weather_State)&gt;=25 THEN &quot;Hot&quot;
ELSE &quot;Warm&quot;
END
AS weather_type 
FROM Countries AS a
JOIN Weather AS b
ON a.country_id = b.country_id
WHERE MONTH(b.day) = 11
GROUP BY b.country_id</code></pre><p>1303</p>
<pre><code>SELECT employee_id,
COUNT(employee_id) OVER (PARTITION BY team_id) team_size
FROM EMPLOYEE</code></pre><pre><code>SELECT employee_id, team_size
FROM Employee AS e
LEFT JOIN (
      SELECT team_id, COUNT(DISTINCT employee_id) AS team_size
      FROM Employee
      GROUP BY team_id
) AS teams
ON e.team_id = teams.team_id</code></pre><p>1322</p>
<pre><code>SELECT ad_id, 
IFNULL(ROUND(SUM(CASE WHEN ACTION = &#39;Clicked&#39; THEN 1 ELSE 0 END) / SUM(CASE WHEN ACTION = &#39;Clicked&#39; OR ACTION = &#39;Viewed&#39; THEN 1 ELSE 0 END) * 100, 2), 0) AS ctr
FROM Ads
GROUP BY ad_id
ORDER BY ctr DESC, ad_id</code></pre><p>1327</p>
<pre><code>SELECT p.product_name,SUM(o.unit) AS unit
FROM Products p
JOIN Orders o
ON p.product_id = o.product_id
WHERE LEFT(order_date, 7) = &#39;2020-02&#39;
GROUP BY p.product_id
HAVING sum(o.unit) &gt;= 100
ORDER BY unit DESC</code></pre><p>1270</p>
<pre><code>SELECT a.employee_id as EMPLOYEE_ID FROM Employees as a # those whose boss is 1
WHERE a.employee_id!=1 AND a.manager_id=1
UNION
SELECT b.employee_id FROM Employees as b #those whose boss&#39; boss is 1
WHERE b.manager_id IN
(
    SELECT a.employee_id FROM Employees as a
    WHERE a.employee_id!=1 AND a.manager_id=1    
)
UNION
SELECT c.employee_id FROM Employees as c #those whose boss&#39; boss&#39; boss is 1
WHERE c.manager_id IN
(
    SELECT b.employee_id FROM Employees as b
    WHERE b.manager_id IN
    (
        SELECT a.employee_id FROM Employees as a
        WHERE a.employee_id!=1 AND a.manager_id=1    
    )
)
ORDER BY EMPLOYEE_ID;</code></pre><pre><code>select employee_id from employees
where manager_id in
(select employee_id from employees where manager_id in
(select employee_id from employees where manager_id = 1))
and employee_id !=1;</code></pre><p>1308</p>
<pre><code>SELECT gender, day, 
       SUM(score_points) OVER(PARTITION BY gender ORDER BY day) AS total
FROM Scores</code></pre><pre><code>SELECT s1.gender, s1.day, SUM(s2.score_points) AS total
FROM Scores AS s1,
     Scores AS s2
WHERE s1.gender = s2.gender AND s2.day &lt;= s1.day
GROUP BY s1.gender, s1.day
ORDER BY s1.gender, s1.day</code></pre><p>1285 <strong><em>**</em></strong></p>
<pre><code>SELECT min(log_id) as start_id, max(log_id) as end_id
FROM
(SELECT log_id, ROW_NUMBER() OVER(ORDER BY log_id) as num
FROM Logs) a
GROUP BY log_id - num</code></pre><p>NOTES:
1 1
2 2
3 3 
7 4
8 5
10 6
the difference of (log_id - num) will change whenever a log_id is skipped. The rows with same difference (log_id - num), should be a continuous series. Then we just need to find the min, and max for that series as start/ end id. It’s easier to understand if you draft it out with column log_in &amp; row_number.</p>
<p>1077</p>
<pre><code>SELECT p.project_id, e.employee_id
from project as p
join employee as e on e.employee_id = p.employee_id
where (p.project_id, e.experience_years) in
(SELECT p.project_id, max(e.experience_years)
from project as p
join employee as e on e.employee_id = p.employee_id
group by project_id)</code></pre><p>1126</p>
<pre><code>select 
business_id
from events as a
join
    (
    select event_type, avg(occurences) as av
    from events
    group by event_type
    ) as b
on a.event_type = b.event_type
where a.occurences &gt; b.av
group by business_id
having count(*)&gt;1;</code></pre><p>1204</p>
<pre><code>SELECT q1.person_name
FROM Queue q1 
JOIN Queue q2 
ON q1.turn &gt;= q2.turn
GROUP BY q1.turn
HAVING SUM(q2.weight) &lt;= 1000
ORDER BY SUM(q2.weight) DESC
LIMIT 1</code></pre><p>1321.Same problem as 1204</p>
<pre><code>SELECT a.visited_on AS visited_on, SUM(b.day_sum) AS amount,
       ROUND(AVG(b.day_sum), 2) AS average_amount
FROM
  (SELECT visited_on, SUM(amount) AS day_sum FROM Customer GROUP BY visited_on ) a,
  (SELECT visited_on, SUM(amount) AS day_sum FROM Customer GROUP BY visited_on ) b
WHERE DATEDIFF(a.visited_on, b.visited_on) BETWEEN 0 AND 6
GROUP BY a.visited_on
HAVING COUNT(b.visited_on) = 7</code></pre><p>1045</p>
<pre><code>SELECT customer_id
FROM customer c
GROUP BY customer_id
HAVING COUNT(DISTINCT product_key)=(SELECT COUNT(DISTINCT product_key) FROM product)</code></pre><p>1193</p>
<pre><code>SELECT LEFT(trans_date, 7) AS month, country,
    COUNT(1) AS trans_count,
    SUM(CASE WHEN state = &#39;approved&#39; then 1 else 0 end) as approved_count,
    sum(amount) as trans_total_amount, 
    sum(case when state = &#39;approved&#39; then amount else 0 end) as approved_total_amount
from Transactions
group by country, left(trans_date, 7)</code></pre><p>608</p>
<pre><code># Write your MySQL query statement below
SELECT
    id, &#39;Root&#39; AS Type
FROM
    tree
WHERE
    p_id IS NULL

UNION

SELECT
    id, &#39;Leaf&#39; AS Type
FROM
    tree
WHERE
    id NOT IN (SELECT DISTINCT
            p_id
        FROM
            tree
        WHERE
            p_id IS NOT NULL)
    AND p_id IS NOT NULL

UNION

SELECT
    id, &#39;Inner&#39; AS Type
FROM
    tree
WHERE
    id IN (SELECT DISTINCT
            p_id
        FROM
            tree
        WHERE
            p_id IS NOT NULL)
        AND p_id IS NOT NULL
ORDER BY id;</code></pre><p>1164</p>
<pre><code>select distinct product_id, 10 as price
from Products
group by product_id
having (min(change_date) &gt; &quot;2019-08-16&quot;)

union

select p2.product_id, new_price
from Products p2
where (p2.product_id, p2.change_date) in

(
select product_id, max(change_date) as recent_date
from Products
where change_date &lt;= &quot;2019-08-16&quot;
group by product_id
)</code></pre><p>626</p>
<pre><code>#For students with odd id, the new id is (id+1) after switch unless it is the last seat. And for students #with even id, the new id is (id-1). In order to know how many seats in total, we can use a subquery:
SELECT
    (CASE
        WHEN MOD(id, 2) != 0 AND counts != id THEN id + 1
        WHEN MOD(id, 2) != 0 AND counts = id THEN id
        ELSE id - 1
    END) AS id,
    student
FROM
    seat,
    (SELECT
        COUNT(*) AS counts
    FROM
        seat) AS seat_counts
ORDER BY id ASC;</code></pre><p>1158</p>
<pre><code>SELECT user_id AS buyer_id, join_date, COALESCE(COUNT(o.order_id),0) AS orders_in_2019
FROM Users u
LEFT JOIN Orders o ON u.user_id = o.buyer_id AND YEAR(order_date)=&#39;2019&#39;
GROUP BY user_id
ORDER BY user_id</code></pre><p>612</p>
<pre><code># Write your MySQL query statement below
SELECT
    ROUND(SQRT(MIN((POW(p1.x - p2.x, 2) + POW(p1.y - p2.y, 2)))), 2) AS shortest
FROM
    point_2d p1
        JOIN
    point_2d p2 ON p1.x != p2.x OR p1.y != p2.y</code></pre><p>1174</p>
<pre><code># Write your MySQL query statement below
SELECT
    ROUND(100*SUM(CASE WHEN order_date = customer_pref_delivery_date THEN 1
    ELSE 0 END)/ COUNT(distinct customer_id) ,2) AS immediate_percentage
FROM
    Delivery
WHERE
    (customer_id, order_date)
IN
(SELECT
    customer_id, min(order_date) as min_date
FROM
    Delivery
GROUP BY
    customer_id
)</code></pre><p>112</p>
<p>1112</p>
<pre><code>SELECT student_id, MIN(course_id) AS course_id, grade
FROM Enrollments
WHERE (student_id, grade) IN
(SELECT student_id, MAX(grade)
FROM Enrollments
GROUP BY student_id)
GROUP BY student_id
ORDER BY student_id</code></pre><p>1264</p>
<pre><code>SELECT DISTINCT page_id AS recommended_page
FROM Likes
WHERE user_id IN (
    SELECT user2_id AS friend_id FROM Friendship WHERE user1_id = 1
    UNION
    SELECT user1_id AS friend_id FROM Friendship WHERE user2_id = 1) 
    AND
    page_id NOT IN (
      SELECT page_id FROM Likes WHERE user_id = 1
    )</code></pre><p>1070</p>
<pre><code>SELECT product_id, year AS first_year, quantity, price
FROM Sales
WHERE (product_id, year) IN (
SELECT product_id, MIN(year) as year
FROM Sales
GROUP BY product_id) ;</code></pre><p>*1149</p>
<pre><code>SELECT DISTINCT viewer_id AS id
FROM Views
GROUP BY viewer_id, view_date
HAVING COUNT(DISTINCT article_id) &gt; 1</code></pre><p>1107</p>
<pre><code>select login_date, count(user_id) as user_count
from
(select user_id, min(activity_date) as login_date
from Traffic
where activity = &#39;login&#39;
group by user_id) t
where datediff(&#39;2019-06-30&#39;, login_date) &lt;= 90
group by login_date</code></pre><p>1205</p>
<pre><code>SELECT month, country, SUM(CASE WHEN state = &quot;approved&quot; THEN 1 ELSE 0 END) AS approved_count, SUM(CASE WHEN state = &quot;approved&quot; THEN amount ELSE 0 END) AS approved_amount, SUM(CASE WHEN state = &quot;back&quot; THEN 1 ELSE 0 END) AS chargeback_count, SUM(CASE WHEN state = &quot;back&quot; THEN amount ELSE 0 END) AS chargeback_amount
FROM
(
    SELECT LEFT(chargebacks.trans_date, 7) AS month, country, &quot;back&quot; AS state, amount
    FROM chargebacks
    JOIN transactions ON chargebacks.trans_id = transactions.id
    UNION ALL
    SELECT LEFT(trans_date, 7) AS month, country, state, amount
    FROM transactions
    WHERE state = &quot;approved&quot;
) s
GROUP BY month, country</code></pre><p>1098</p>
<pre><code>select b.book_id, b.name
from books b 
left join orders o
on b.book_id = o.book_id and dispatch_date between &#39;2018-06-23&#39; and &#39;2019-06-23&#39;
where datediff(&#39;2019-06-23&#39;, available_from) &gt; 30
group by b.book_id, b.name
having ifnull(sum(quantity),0) &lt;10;</code></pre><p>1132</p>
<pre><code>SELECT ROUND(AVG(cnt), 2) AS average_daily_percent FROM
(
    SELECT (COUNT(DISTINCT r.post_id)/ COUNT(DISTINCT a.post_id))*100  AS cnt
FROM Actions a
LEFT JOIN Removals r
ON a.post_id = r.post_id
WHERE extra=&#39;spam&#39; and action = &#39;report&#39;
GROUP BY action_date)tmp</code></pre><p>614</p>
<pre><code>SELECT f1.follower as follower, COUNT(DISTINCT f2.follower) as num
FROM follow f1 join follow f2
on f1.follower=f2.followee
GROUP BY f2.followee</code></pre><p>1225<em>**</em></p>
<pre><code></code></pre><p>615</p>
<pre><code>select department_salary.pay_month, department_id,
case
  when department_avg&gt;company_avg then &#39;higher&#39;
  when department_avg&lt;company_avg then &#39;lower&#39;
  else &#39;same&#39;
end as comparison
from
(
  select department_id, avg(amount) as department_avg, date_format(pay_date, &#39;%Y-%m&#39;) as pay_month
  from salary join employee on salary.employee_id = employee.employee_id
  group by department_id, pay_month
) as department_salary
join
(
  select avg(amount) as company_avg,  date_format(pay_date, &#39;%Y-%m&#39;) as pay_month from salary group by date_format(pay_date, &#39;%Y-%m&#39;)
) as company_salary
on department_salary.pay_month = company_salary.pay_month</code></pre><p>618<em>*</em></p>
<pre><code>SELECT 
    America, Asia, Europe
FROM
    (SELECT @as:=0, @am:=0, @eu:=0) t,
    (SELECT 
        @as:=@as + 1 AS asid, name AS Asia
    FROM
        student
    WHERE
        continent = &#39;Asia&#39;
    ORDER BY Asia) AS t1
        RIGHT JOIN
    (SELECT 
        @am:=@am + 1 AS amid, name AS America
    FROM
        student
    WHERE
        continent = &#39;America&#39;
    ORDER BY America) AS t2 ON asid = amid
        LEFT JOIN
    (SELECT 
        @eu:=@eu + 1 AS euid, name AS Europe
    FROM
        student
    WHERE
        continent = &#39;Europe&#39;
    ORDER BY Europe) AS t3 ON amid = euid</code></pre><p>1097</p>
<pre><code>select distinct install_dt,count(install_dt) as installs,round(ifnull(count(day1),0)/count(install_dt),2) as Day1_retention
from
    (select a1.player_id,a1.install_dt, a2.event_date as day1
     from
         (select player_id,min(event_date) as install_dt
         from activity
         group by player_id) as a1
    left join activity a2
    on a1.player_id=a2.player_id and a1.install_dt=a2.event_date-1) as a3
group by install_dt</code></pre><p>1159</p>
<pre><code>SELECT user_id as seller_id, 
if(i.item_brand = u.favorite_brand, &quot;yes&quot;, &quot;no&quot;) as 2nd_item_fav_brand
from Users u left join 
    (SELECT o1.seller_id, o1.item_id, o1.order_date
    FROM Orders o1 JOIN Orders o2
    ON o1.seller_id = o2.seller_id AND o1.order_date &gt; o2.order_date
    GROUP BY o1.seller_id, o1.order_date
    HAVING count(o1.order_id) = 1) t
ON u.user_id = t.seller_id
LEFT JOIN Items i
ON t.item_id = i.item_id
ORDER BY u.user_id;</code></pre><p>1194</p>
<pre><code>select group_id as GROUP_ID, min(player_id) as PLAYER_ID
from Players,
    (select player, sum(score) as score from
        (select first_player as player, first_score as score from Matches
        union all
        select second_player, second_score from Matches) s
    group by player) PlayerScores
where Players.player_id = PlayerScores.player and (group_id, score) in
    (select group_id, max(score)
    from Players,
        (select player, sum(score) as score from
            (select first_player as player, first_score as score from Matches
            union all
            select second_player, second_score from Matches) s
        group by player) PlayerScores
    where Players.player_id = PlayerScores.player
    group by group_id)
group by group_id</code></pre>
            </div>
            <hr />

            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone, qq, weibo, douban"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            


        </div>
    </div>

    
    <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: 'c090019fe3f06f8ef15d',
        clientSecret: '9f220a5e71efc340544fce7ae397f63151db8747',
        repo: 'naixinzhang.github.io',
        owner: 'naixinzhang',
        admin: "naixinzhang",
        id: '2020/02/15/mysql/sql-leetcode/',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>
    

    

    

    

    
    <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments input[type=text],
    #vcomments input[type=email],
    #vcomments input[type=url],
    #vcomments textarea {
        box-sizing: border-box;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #42b983;
        font-weight: 500;
        text-decoration: underline;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div id="vcomments" class="card-content"></div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<!-- <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script> -->

<script>
    new Valine({
        el: '#vcomments',
        appId: '',
        appKey: '',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'false' === 'true',
        avatar: 'wavatar',
        pageSize: '10',
        lang: 'en',
        placeholder: '如果你没有GitHub账号，还可以在这里评论啦！'
    });
</script>

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2020/02/19/stat/stat-interview-prep/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="statistics_interview_prep">
                        
                        <span class="card-title">statistics_interview_prep</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
P-Value
The p-value is the probability of obtaining at least as extreme results given that the null hypothesis is true.
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2020-02-19
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/statistic-knowlege-review/" class="post-category" target="_blank">
                                    statistic knowlege review
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/statistic-knowlege-review/" target="_blank">
                        <span class="chip bg-color">statistic knowlege review</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/02/12/mysql/sql-notes-basic/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/16.jpg" class="responsive-img" alt="SQL_notes_Basic">
                        
                        <span class="card-title">SQL_notes_Basic</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            Learning from https://mode.com/sql-tutorial/
1.SELECT * FROM table

rename column names: 
SELECT west AS &quot;West Regi
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2020-02-12
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/SQL/" class="post-category" target="_blank">
                                    SQL
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/SQL-Learning-notes/" target="_blank">
                        <span class="chip bg-color">SQL Learning notes</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


    <footer class="page-footer bg-color center-align">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            &copy; 2020 NaixinZhang. All Rights Reserved.
        </div>
    </div>
</footer>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <script type="text/javascript"> var OriginTitile = document.title, st; document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) })
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', '');
</script>



    
    <script src="/libs/others/clicklove.js"></script>
    

    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    <!-- 雪花特效 -->
    

</body>

</html>